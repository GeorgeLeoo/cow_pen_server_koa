!function(n){var e={};function t(c){if(e[c])return e[c].exports;var l=e[c]={i:c,l:!1,exports:{}};return n[c].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=n,t.c=e,t.d=function(n,e,c){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:c})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var l in n)t.d(c,l,function(e){return n[e]}.bind(null,l));return c},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=24)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('class ResponseCode {}\n\nResponseCode.SUCCESS = 200  //  请求成功\nResponseCode.FAIL = 900  //  获取数据失败\nResponseCode.UN_AUTHORIZATION = 401  // 客户端未授权、未登录\nResponseCode.CLIENT_ERROR = 406 //  客户端错误，未传递正确的参数\nResponseCode.SERVICE_ERROR = 500  //  服务器内部错误\n\n/* harmony default export */ __webpack_exports__["a"] = (ResponseCode);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvUmVzcG9uc2VDb2RlLmpzPzljZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxxRUFBWSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUmVzcG9uc2VDb2RlIHt9XG5cblJlc3BvbnNlQ29kZS5TVUNDRVNTID0gMjAwICAvLyAg6K+35rGC5oiQ5YqfXG5SZXNwb25zZUNvZGUuRkFJTCA9IDkwMCAgLy8gIOiOt+WPluaVsOaNruWksei0pVxuUmVzcG9uc2VDb2RlLlVOX0FVVEhPUklaQVRJT04gPSA0MDEgIC8vIOWuouaIt+err+acquaOiOadg+OAgeacqueZu+W9lVxuUmVzcG9uc2VDb2RlLkNMSUVOVF9FUlJPUiA9IDQwNiAvLyAg5a6i5oi356uv6ZSZ6K+v77yM5pyq5Lyg6YCS5q2j56Gu55qE5Y+C5pWwXG5SZXNwb25zZUNvZGUuU0VSVklDRV9FUlJPUiA9IDUwMCAgLy8gIOacjeWKoeWZqOWGhemDqOmUmeivr1xuXG5leHBvcnQgZGVmYXVsdCBSZXNwb25zZUNvZGVcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var _config_modules_RedisConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);\n\n\n\n\n\n\n\n\nconst salt = 'coW_pEn_MOb1996GeorgeLeoo12NJ19'\n\nclass Utils {}\n\n/**\n * @description 加密\n * @param {string} value\n */\nUtils.encryption = (value) => {\n\tconst md5 = __webpack_require__(25)\n\treturn md5(salt + md5(salt + value))\n}\n\nUtils.getRedisUid = async (ctx) => {\n  const token = ctx.get('authorization').split('Bearer ')[1]\n\tconst encryptionToken = Utils.encryption(token)\n\treturn await Object(_config_modules_RedisConfig__WEBPACK_IMPORTED_MODULE_3__[/* getValue */ \"b\"])(encryptionToken)\n}\n\n/**\n * 判断对象是否为空\n * @param obj\n * @returns {boolean}\n */\nUtils.isEmptyObject = (obj) => {\n\tif (typeof obj !== 'object') {\n\t\treturn true\n\t}\n\tif (obj === null) {\n\t\treturn true\n\t}\n\tconst keys = Object.keys(JSON.parse(JSON.stringify(obj)))\n\treturn keys.length === 0\n}\n\n/**\n * 判断数组是否为空\n * @param {[]} array\n */\nUtils.isEmptyArray = (array) => !array || array.length === 0\n\n/**\n * 获取token认证信息\n * @param _id 用户id\n */\nUtils.getToken = (_id) => {\n\treturn jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default.a.sign(\n\t\t{\n\t\t\t_id,\n\t\t\texp: _config__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].TOKEN_EXP,\n\t\t},\n\t\t_config__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].JWT_SECRET\n\t)\n}\nUtils.verifyToken = (token) => {\n\treturn new Promise((resolve, reject) => {\n\t\tjsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default.a.verify(token, _config__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].JWT_SECRET, function (err, decoded) {\n\t\t\tif (typeof decoded === 'string') {\n\t\t\t\treject(err)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tresolve(decoded)\n\t\t})\n\t})\n}\n\n/**\n * 保存文件\n * @param file  文件\n * @param path  文件路径\n * @returns {Promise<unknown>}\n */\nUtils.saveFile = (file, path) => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst pathArray = path.split('/')\n\t\tconst length = pathArray.length\n\t\tconst _path = '/img/' + pathArray[length - 1]\n\n\t\t// 创建可读流\n\t\tlet render = fs__WEBPACK_IMPORTED_MODULE_1___default.a.createReadStream(file.path)\n\t\t// 创建写入流\n\t\tlet upStream = fs__WEBPACK_IMPORTED_MODULE_1___default.a.createWriteStream(path)\n\n\t\trender.pipe(upStream)\n\t\tupStream.on('finish', () => {\n\t\t\tresolve(_path)\n\t\t})\n\t\tupStream.on('error', (err) => {\n\t\t\treject(err)\n\t\t})\n\t\tresolve(_path)\n\t})\n}\nUtils.deepClone = (obj = {}) => {\n\t// 值类型的情况下直接返回\n\t// obj 是 null，或者不是对象也不是数组，就直接返回\n\tif (typeof obj !== 'object' || obj == null) {\n\t\treturn obj\n\t}\n\t// 初始化返回结果,是数组就定义为数组，是对象就定义为对象\n\tlet result\n\tif (obj instanceof Array) {\n\t\tresult = []\n\t} else {\n\t\tresult = {}\n\t}\n\n\tfor (const key in obj) {\n\t\t// 判断 key 是否是自身的属性\n\t\t// eslint-disable-next-line no-prototype-builtins\n\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t// 保证不是原型上的属性\n\t\t\tresult[key] = undefined.deepClone(obj[key])\n\t\t}\n\t}\n\n\treturn result\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Utils);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvVXRpbHMuanM/YTE2MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBWTs7QUFFMkI7QUFDcEI7QUFDYTs7QUFFd0I7O0FBRXhEOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLGFBQWEsbUJBQU8sQ0FBQyxFQUFRO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvRkFBUTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtREFBWTtBQUNwQjtBQUNBO0FBQ0EsUUFBUSx1REFBTTtBQUNkLEdBQUc7QUFDSCxFQUFFLHVEQUFNO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLG1EQUFZLGVBQWUsdURBQU07QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSx5Q0FBRTtBQUNqQjtBQUNBLGlCQUFpQix5Q0FBRTs7QUFFbkI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFO0FBQ0Y7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFJO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFZSw4REFBSyIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBqc29ud2VidG9rZW4gZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLy4uL2NvbmZpZydcblxuaW1wb3J0IHsgZ2V0VmFsdWUgfSBmcm9tICcuLi9jb25maWcvbW9kdWxlcy9SZWRpc0NvbmZpZydcblxuY29uc3Qgc2FsdCA9ICdjb1dfcEVuX01PYjE5OTZHZW9yZ2VMZW9vMTJOSjE5J1xuXG5jbGFzcyBVdGlscyB7fVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDliqDlr4ZcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5VdGlscy5lbmNyeXB0aW9uID0gKHZhbHVlKSA9PiB7XG5cdGNvbnN0IG1kNSA9IHJlcXVpcmUoJ2pzLW1kNScpXG5cdHJldHVybiBtZDUoc2FsdCArIG1kNShzYWx0ICsgdmFsdWUpKVxufVxuXG5VdGlscy5nZXRSZWRpc1VpZCA9IGFzeW5jIChjdHgpID0+IHtcbiAgY29uc3QgdG9rZW4gPSBjdHguZ2V0KCdhdXRob3JpemF0aW9uJykuc3BsaXQoJ0JlYXJlciAnKVsxXVxuXHRjb25zdCBlbmNyeXB0aW9uVG9rZW4gPSBVdGlscy5lbmNyeXB0aW9uKHRva2VuKVxuXHRyZXR1cm4gYXdhaXQgZ2V0VmFsdWUoZW5jcnlwdGlvblRva2VuKVxufVxuXG4vKipcbiAqIOWIpOaWreWvueixoeaYr+WQpuS4uuepulxuICogQHBhcmFtIG9ialxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblV0aWxzLmlzRW1wdHlPYmplY3QgPSAob2JqKSA9PiB7XG5cdGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuXHRcdHJldHVybiB0cnVlXG5cdH1cblx0aWYgKG9iaiA9PT0gbnVsbCkge1xuXHRcdHJldHVybiB0cnVlXG5cdH1cblx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSkpXG5cdHJldHVybiBrZXlzLmxlbmd0aCA9PT0gMFxufVxuXG4vKipcbiAqIOWIpOaWreaVsOe7hOaYr+WQpuS4uuepulxuICogQHBhcmFtIHtbXX0gYXJyYXlcbiAqL1xuVXRpbHMuaXNFbXB0eUFycmF5ID0gKGFycmF5KSA9PiAhYXJyYXkgfHwgYXJyYXkubGVuZ3RoID09PSAwXG5cbi8qKlxuICog6I635Y+WdG9rZW7orqTor4Hkv6Hmga9cbiAqIEBwYXJhbSBfaWQg55So5oi3aWRcbiAqL1xuVXRpbHMuZ2V0VG9rZW4gPSAoX2lkKSA9PiB7XG5cdHJldHVybiBqc29ud2VidG9rZW4uc2lnbihcblx0XHR7XG5cdFx0XHRfaWQsXG5cdFx0XHRleHA6IGNvbmZpZy5UT0tFTl9FWFAsXG5cdFx0fSxcblx0XHRjb25maWcuSldUX1NFQ1JFVFxuXHQpXG59XG5VdGlscy52ZXJpZnlUb2tlbiA9ICh0b2tlbikgPT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGpzb253ZWJ0b2tlbi52ZXJpZnkodG9rZW4sIGNvbmZpZy5KV1RfU0VDUkVULCBmdW5jdGlvbiAoZXJyLCBkZWNvZGVkKSB7XG5cdFx0XHRpZiAodHlwZW9mIGRlY29kZWQgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHJlamVjdChlcnIpXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0fVxuXHRcdFx0cmVzb2x2ZShkZWNvZGVkKVxuXHRcdH0pXG5cdH0pXG59XG5cbi8qKlxuICog5L+d5a2Y5paH5Lu2XG4gKiBAcGFyYW0gZmlsZSAg5paH5Lu2XG4gKiBAcGFyYW0gcGF0aCAg5paH5Lu26Lev5b6EXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx1bmtub3duPn1cbiAqL1xuVXRpbHMuc2F2ZUZpbGUgPSAoZmlsZSwgcGF0aCkgPT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHBhdGhBcnJheSA9IHBhdGguc3BsaXQoJy8nKVxuXHRcdGNvbnN0IGxlbmd0aCA9IHBhdGhBcnJheS5sZW5ndGhcblx0XHRjb25zdCBfcGF0aCA9ICcvaW1nLycgKyBwYXRoQXJyYXlbbGVuZ3RoIC0gMV1cblxuXHRcdC8vIOWIm+W7uuWPr+ivu+a1gVxuXHRcdGxldCByZW5kZXIgPSBmcy5jcmVhdGVSZWFkU3RyZWFtKGZpbGUucGF0aClcblx0XHQvLyDliJvlu7rlhpnlhaXmtYFcblx0XHRsZXQgdXBTdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShwYXRoKVxuXG5cdFx0cmVuZGVyLnBpcGUodXBTdHJlYW0pXG5cdFx0dXBTdHJlYW0ub24oJ2ZpbmlzaCcsICgpID0+IHtcblx0XHRcdHJlc29sdmUoX3BhdGgpXG5cdFx0fSlcblx0XHR1cFN0cmVhbS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG5cdFx0XHRyZWplY3QoZXJyKVxuXHRcdH0pXG5cdFx0cmVzb2x2ZShfcGF0aClcblx0fSlcbn1cblV0aWxzLmRlZXBDbG9uZSA9IChvYmogPSB7fSkgPT4ge1xuXHQvLyDlgLznsbvlnovnmoTmg4XlhrXkuIvnm7TmjqXov5Tlm55cblx0Ly8gb2JqIOaYryBudWxs77yM5oiW6ICF5LiN5piv5a+56LGh5Lmf5LiN5piv5pWw57uE77yM5bCx55u05o6l6L+U5ZueXG5cdGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT0gbnVsbCkge1xuXHRcdHJldHVybiBvYmpcblx0fVxuXHQvLyDliJ3lp4vljJbov5Tlm57nu5Pmnpws5piv5pWw57uE5bCx5a6a5LmJ5Li65pWw57uE77yM5piv5a+56LGh5bCx5a6a5LmJ5Li65a+56LGhXG5cdGxldCByZXN1bHRcblx0aWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XG5cdFx0cmVzdWx0ID0gW11cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSB7fVxuXHR9XG5cblx0Zm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG5cdFx0Ly8g5Yik5patIGtleSDmmK/lkKbmmK/oh6rouqvnmoTlsZ7mgKdcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5cdFx0aWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHQvLyDkv53or4HkuI3mmK/ljp/lnovkuIrnmoTlsZ7mgKdcblx0XHRcdHJlc3VsdFtrZXldID0gdGhpcy5kZWVwQ2xvbmUob2JqW2tleV0pXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZGVmYXVsdCBVdGlsc1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export DB_URL */\n/* unused harmony export REDIS */\n/* unused harmony export JWT_SECRET */\n/* unused harmony export TOKEN_EXP */\n/* unused harmony export UN_AUTHENTICATION_API_REG */\n/* unused harmony export UN_AUTHENTICATION_API */\n/* unused harmony export ABSOLUTE_BASE_PATH */\n/* unused harmony export RELATIVE_BASE_PATH */\n/* unused harmony export ABSOLUTE_IMG_LOCAL_PATH */\n/* unused harmony export ABSOLUTE_IMG_PATH */\n/* unused harmony export RELATIVE_IMG_PATH */\n/* unused harmony export ABSOLUTE_AVATAR_PATH */\n/* unused harmony export RELATIVE_AVATAR_PATH */\n/* unused harmony export PICTURE_SUFFIX */\n// mongo db\nconst DB_URL = 'mongodb://root:123loveyou,@139.159.201.22:12306/cow_pen?authSource=admin'\n\n// redis\nconst REDIS = {\n  host: '139.159.201.22',\n  port: 15001,\n  password: '123loveyou,'\n}\n\n// jwt\nconst JWT_SECRET = 'a&*38QthAK8ui2RwISGLotgq^3%^$zvA3A6Hfr8MF$jM*HY4*dWcwAW&9NGp7*b53!'\n\n// token 过期时间\nconst TOKEN_EXP = Math.floor(Date.now() / 1000) + 60 * 60 * 24\n\n// 不用授权的api\nconst UN_AUTHENTICATION_API_REG = [/\\/user\\/login/, /\\/user\\/register/]\nconst UN_AUTHENTICATION_API = ['/user/login', '/user/register']\n\n// 媒体文件基础路径\nconst ABSOLUTE_BASE_PATH = '/root/www/media'\nconst RELATIVE_BASE_PATH = '/media'\n\n// 图片地址\nconst ABSOLUTE_IMG_LOCAL_PATH = `/Users/georgeleeo/Documents/file/Graduation Project/ExamManagement/ExamManagement/media/img/`\nconst ABSOLUTE_IMG_PATH = `${ABSOLUTE_BASE_PATH}/img/`\nconst RELATIVE_IMG_PATH = `${RELATIVE_BASE_PATH}/img/`\n\n// 头像地址\nconst ABSOLUTE_AVATAR_PATH = `${ABSOLUTE_BASE_PATH}/avatar/`\nconst RELATIVE_AVATAR_PATH = `${RELATIVE_BASE_PATH}/avatar/`\n\n// 图片后缀\nconst PICTURE_SUFFIX = ['png', 'jpg', 'jpeg']\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  DB_URL,\n  REDIS,\n  JWT_SECRET,\n  UN_AUTHENTICATION_API,\n  UN_AUTHENTICATION_API_REG,\n  TOKEN_EXP,\n  ABSOLUTE_BASE_PATH,\n  RELATIVE_BASE_PATH,\n  ABSOLUTE_IMG_PATH,\n  RELATIVE_IMG_PATH,\n  ABSOLUTE_AVATAR_PATH,\n  RELATIVE_AVATAR_PATH,\n  PICTURE_SUFFIX,\n  ABSOLUTE_IMG_LOCAL_PATH\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ087O0FBRVA7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ087O0FBRVA7QUFDTzs7QUFFUDtBQUNPO0FBQ0E7O0FBRVA7QUFDTztBQUNBOztBQUVQO0FBQ087QUFDQSw2QkFBNkIsbUJBQW1CO0FBQ2hELDZCQUE2QixtQkFBbUI7O0FBRXZEO0FBQ08sZ0NBQWdDLG1CQUFtQjtBQUNuRCxnQ0FBZ0MsbUJBQW1COztBQUUxRDtBQUNPOztBQUVRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG1vbmdvIGRiXG5leHBvcnQgY29uc3QgREJfVVJMID0gJ21vbmdvZGI6Ly9yb290OjEyM2xvdmV5b3UsQDEzOS4xNTkuMjAxLjIyOjEyMzA2L2Nvd19wZW4/YXV0aFNvdXJjZT1hZG1pbidcblxuLy8gcmVkaXNcbmV4cG9ydCBjb25zdCBSRURJUyA9IHtcbiAgaG9zdDogJzEzOS4xNTkuMjAxLjIyJyxcbiAgcG9ydDogMTUwMDEsXG4gIHBhc3N3b3JkOiAnMTIzbG92ZXlvdSwnXG59XG5cbi8vIGp3dFxuZXhwb3J0IGNvbnN0IEpXVF9TRUNSRVQgPSAnYSYqMzhRdGhBSzh1aTJSd0lTR0xvdGdxXjMlXiR6dkEzQTZIZnI4TUYkak0qSFk0KmRXY3dBVyY5TkdwNypiNTMhJ1xuXG4vLyB0b2tlbiDov4fmnJ/ml7bpl7RcbmV4cG9ydCBjb25zdCBUT0tFTl9FWFAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArIDYwICogNjAgKiAyNFxuXG4vLyDkuI3nlKjmjojmnYPnmoRhcGlcbmV4cG9ydCBjb25zdCBVTl9BVVRIRU5USUNBVElPTl9BUElfUkVHID0gWy9cXC91c2VyXFwvbG9naW4vLCAvXFwvdXNlclxcL3JlZ2lzdGVyL11cbmV4cG9ydCBjb25zdCBVTl9BVVRIRU5USUNBVElPTl9BUEkgPSBbJy91c2VyL2xvZ2luJywgJy91c2VyL3JlZ2lzdGVyJ11cblxuLy8g5aqS5L2T5paH5Lu25Z+656GA6Lev5b6EXG5leHBvcnQgY29uc3QgQUJTT0xVVEVfQkFTRV9QQVRIID0gJy9yb290L3d3dy9tZWRpYSdcbmV4cG9ydCBjb25zdCBSRUxBVElWRV9CQVNFX1BBVEggPSAnL21lZGlhJ1xuXG4vLyDlm77niYflnLDlnYBcbmV4cG9ydCBjb25zdCBBQlNPTFVURV9JTUdfTE9DQUxfUEFUSCA9IGAvVXNlcnMvZ2VvcmdlbGVlby9Eb2N1bWVudHMvZmlsZS9HcmFkdWF0aW9uIFByb2plY3QvRXhhbU1hbmFnZW1lbnQvRXhhbU1hbmFnZW1lbnQvbWVkaWEvaW1nL2BcbmV4cG9ydCBjb25zdCBBQlNPTFVURV9JTUdfUEFUSCA9IGAke0FCU09MVVRFX0JBU0VfUEFUSH0vaW1nL2BcbmV4cG9ydCBjb25zdCBSRUxBVElWRV9JTUdfUEFUSCA9IGAke1JFTEFUSVZFX0JBU0VfUEFUSH0vaW1nL2BcblxuLy8g5aS05YOP5Zyw5Z2AXG5leHBvcnQgY29uc3QgQUJTT0xVVEVfQVZBVEFSX1BBVEggPSBgJHtBQlNPTFVURV9CQVNFX1BBVEh9L2F2YXRhci9gXG5leHBvcnQgY29uc3QgUkVMQVRJVkVfQVZBVEFSX1BBVEggPSBgJHtSRUxBVElWRV9CQVNFX1BBVEh9L2F2YXRhci9gXG5cbi8vIOWbvueJh+WQjue8gFxuZXhwb3J0IGNvbnN0IFBJQ1RVUkVfU1VGRklYID0gWydwbmcnLCAnanBnJywgJ2pwZWcnXVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIERCX1VSTCxcbiAgUkVESVMsXG4gIEpXVF9TRUNSRVQsXG4gIFVOX0FVVEhFTlRJQ0FUSU9OX0FQSSxcbiAgVU5fQVVUSEVOVElDQVRJT05fQVBJX1JFRyxcbiAgVE9LRU5fRVhQLFxuICBBQlNPTFVURV9CQVNFX1BBVEgsXG4gIFJFTEFUSVZFX0JBU0VfUEFUSCxcbiAgQUJTT0xVVEVfSU1HX1BBVEgsXG4gIFJFTEFUSVZFX0lNR19QQVRILFxuICBBQlNPTFVURV9BVkFUQVJfUEFUSCxcbiAgUkVMQVRJVkVfQVZBVEFSX1BBVEgsXG4gIFBJQ1RVUkVfU1VGRklYLFxuICBBQlNPTFVURV9JTUdfTE9DQUxfUEFUSFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},function(module,exports){eval('module.exports = require("koa-router");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export client */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return setValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getValue; });\n/* unused harmony export getHValue */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return delValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20);\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n\n\n\n\nconst options = {\n  host: _index__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].REDIS.host,\n  port: _index__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].REDIS.port,\n  password: _index__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].REDIS.password,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === 'ECONNREFUSED') {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error('The server refused the connection');\n    }\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error('Retry time exhausted');\n    }\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    }\n    // reconnect after\n    return Math.min(options.attempt * 100, 3000);\n  }\n}\n\n// const client = redis.createClient(options)\nconst client = Object(bluebird__WEBPACK_IMPORTED_MODULE_1__[\"promisifyAll\"])(redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options))\n\nclient.on('error', (err) => {\n  console.log('Redis Client Error:' + err)\n})\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value == null || value === '') {\n    return\n  }\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      client.set(key, value, 'EX', time)\n    } else {\n      client.set(key, value)\n    }\n  } else if (typeof value === 'object') {\n    // { key1: value1, key2: value2}\n    // Object.keys(value) => [key1, key2]\n    Object.keys(value).forEach((item) => {\n      client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print)\n    })\n  }\n}\n\n// const {promisify} = require('util');\n// const getAsync = promisify(client.get).bind(client);\n\nconst getValue = (key) => {\n  return client.getAsync(key)\n}\n\nconst getHValue = (key) => {\n  // v8 Promisify method use util, must node > 8\n  // return promisify(client.hgetall).bind(client)(key)\n\n  // bluebird async\n  return client.hgetallAsync(key)\n}\n\nconst delValue = (key) => {\n  client.del(key, (err, res) => {\n    if (res === 1) {\n      console.log('delete successfully');\n    } else {\n      console.log('delete redis key error:' + err)\n    }\n  })\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL21vZHVsZXMvUmVkaXNDb25maWcuanM/MmE4ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF5QjtBQUNjO0FBQ1Y7O0FBRTdCO0FBQ0EsUUFBUSxzREFBTTtBQUNkLFFBQVEsc0RBQU07QUFDZCxZQUFZLHNEQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLDZEQUFZLENBQUMsNENBQUs7O0FBRWpDO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsUUFBUTtBQUNSO0FBQ0E7QUFDQSwwQ0FBMEMsNENBQUs7QUFDL0MsS0FBSztBQUNMO0FBQ0E7O0FBRUEsVUFBVSxVQUFVO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBUUMiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWRpcyBmcm9tICdyZWRpcydcbmltcG9ydCB7IHByb21pc2lmeUFsbCB9IGZyb20gJ2JsdWViaXJkJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9pbmRleCdcblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAgaG9zdDogY29uZmlnLlJFRElTLmhvc3QsXG4gIHBvcnQ6IGNvbmZpZy5SRURJUy5wb3J0LFxuICBwYXNzd29yZDogY29uZmlnLlJFRElTLnBhc3N3b3JkLFxuICBkZXRlY3RfYnVmZmVyczogdHJ1ZSxcbiAgcmV0cnlfc3RyYXRlZ3k6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZXJyb3IgJiYgb3B0aW9ucy5lcnJvci5jb2RlID09PSAnRUNPTk5SRUZVU0VEJykge1xuICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyBvbiBhIHNwZWNpZmljIGVycm9yIGFuZCBmbHVzaCBhbGwgY29tbWFuZHMgd2l0aFxuICAgICAgLy8gYSBpbmRpdmlkdWFsIGVycm9yXG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdUaGUgc2VydmVyIHJlZnVzZWQgdGhlIGNvbm5lY3Rpb24nKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudG90YWxfcmV0cnlfdGltZSA+IDEwMDAgKiA2MCAqIDYwKSB7XG4gICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIGFmdGVyIGEgc3BlY2lmaWMgdGltZW91dCBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzXG4gICAgICAvLyB3aXRoIGEgaW5kaXZpZHVhbCBlcnJvclxuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmV0cnkgdGltZSBleGhhdXN0ZWQnKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYXR0ZW1wdCA+IDEwKSB7XG4gICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIHdpdGggYnVpbHQgaW4gZXJyb3JcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIHJlY29ubmVjdCBhZnRlclxuICAgIHJldHVybiBNYXRoLm1pbihvcHRpb25zLmF0dGVtcHQgKiAxMDAsIDMwMDApO1xuICB9XG59XG5cbi8vIGNvbnN0IGNsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudChvcHRpb25zKVxuY29uc3QgY2xpZW50ID0gcHJvbWlzaWZ5QWxsKHJlZGlzLmNyZWF0ZUNsaWVudChvcHRpb25zKSlcblxuY2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgY29uc29sZS5sb2coJ1JlZGlzIENsaWVudCBFcnJvcjonICsgZXJyKVxufSlcblxuY29uc3Qgc2V0VmFsdWUgPSAoa2V5LCB2YWx1ZSwgdGltZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgIHJldHVyblxuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiB0aW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlLCAnRVgnLCB0aW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBjbGllbnQuc2V0KGtleSwgdmFsdWUpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyB7IGtleTE6IHZhbHVlMSwga2V5MjogdmFsdWUyfVxuICAgIC8vIE9iamVjdC5rZXlzKHZhbHVlKSA9PiBba2V5MSwga2V5Ml1cbiAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY2xpZW50LmhzZXQoa2V5LCBpdGVtLCB2YWx1ZVtpdGVtXSwgcmVkaXMucHJpbnQpXG4gICAgfSlcbiAgfVxufVxuXG4vLyBjb25zdCB7cHJvbWlzaWZ5fSA9IHJlcXVpcmUoJ3V0aWwnKTtcbi8vIGNvbnN0IGdldEFzeW5jID0gcHJvbWlzaWZ5KGNsaWVudC5nZXQpLmJpbmQoY2xpZW50KTtcblxuY29uc3QgZ2V0VmFsdWUgPSAoa2V5KSA9PiB7XG4gIHJldHVybiBjbGllbnQuZ2V0QXN5bmMoa2V5KVxufVxuXG5jb25zdCBnZXRIVmFsdWUgPSAoa2V5KSA9PiB7XG4gIC8vIHY4IFByb21pc2lmeSBtZXRob2QgdXNlIHV0aWwsIG11c3Qgbm9kZSA+IDhcbiAgLy8gcmV0dXJuIHByb21pc2lmeShjbGllbnQuaGdldGFsbCkuYmluZChjbGllbnQpKGtleSlcblxuICAvLyBibHVlYmlyZCBhc3luY1xuICByZXR1cm4gY2xpZW50LmhnZXRhbGxBc3luYyhrZXkpXG59XG5cbmNvbnN0IGRlbFZhbHVlID0gKGtleSkgPT4ge1xuICBjbGllbnQuZGVsKGtleSwgKGVyciwgcmVzKSA9PiB7XG4gICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSByZWRpcyBrZXkgZXJyb3I6JyArIGVycilcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCB7XG4gIGNsaWVudCxcbiAgc2V0VmFsdWUsXG4gIGdldFZhbHVlLFxuICBnZXRIVmFsdWUsXG4gIGRlbFZhbHVlXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n")},function(module,exports){eval('module.exports = require("mongoose");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},function(module,exports){eval('module.exports = require("path");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n')},function(module,exports){eval('module.exports = require("redis");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZGlzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n')},function(module,exports){eval('module.exports = require("jsonwebtoken");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,exports){eval('module.exports = require("fs");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n')},function(module,exports){eval('module.exports = require("koa");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},function(module,exports){eval('module.exports = require("koa-compose");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n')},function(module,exports){eval('module.exports = require("koa-body");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n')},function(module,exports){eval('module.exports = require("koa-json");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},function(module,exports){eval('module.exports = require("@koa/cors");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGtvYS9jb3JzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n')},function(module,exports){eval('module.exports = require("koa-helmet");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1oZWxtZXRcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n')},function(module,exports){eval('module.exports = require("koa-static");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1zdGF0aWNcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n')},function(module,exports){eval('module.exports = require("koa-compress");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbXByZXNzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n')},function(module,exports){eval('module.exports = require("koa-jwt");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1qd3RcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},function(module,exports){eval('module.exports = require("koa-combine-routers");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21iaW5lLXJvdXRlcnNcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n')},function(module,exports){eval('module.exports = require("bluebird");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _utils_ResponseCode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n\n\n/* harmony default export */ __webpack_exports__["a"] = ((ctx, next) => {\n  return next().catch((err) => {\n    if (err.status === _utils_ResponseCode__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].UN_AUTHORIZATION) {\n      ctx.status = _utils_ResponseCode__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].UN_AUTHORIZATION\n      ctx.body = {\n        code: _utils_ResponseCode__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].UN_AUTHORIZATION,\n        msg: err.message\n      }\n    } else {\n      ctx.status = err.status || _utils_ResponseCode__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SERVICE_ERROR\n      ctx.body = {\n        code: _utils_ResponseCode__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SERVICE_ERROR,\n        msg: err.message\n      }\n    }\n  })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBa0Q7O0FBRW5DO0FBQ2Y7QUFDQSx1QkFBdUIsbUVBQVk7QUFDbkMsbUJBQW1CLG1FQUFZO0FBQy9CO0FBQ0EsY0FBYyxtRUFBWTtBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGlDQUFpQyxtRUFBWTtBQUM3QztBQUNBLGNBQWMsbUVBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVzcG9uc2VDb2RlIGZyb20gJy4vLi4vdXRpbHMvUmVzcG9uc2VDb2RlJ1xuXG5leHBvcnQgZGVmYXVsdCAoY3R4LCBuZXh0KSA9PiB7XG4gIHJldHVybiBuZXh0KCkuY2F0Y2goKGVycikgPT4ge1xuICAgIGlmIChlcnIuc3RhdHVzID09PSBSZXNwb25zZUNvZGUuVU5fQVVUSE9SSVpBVElPTikge1xuICAgICAgY3R4LnN0YXR1cyA9IFJlc3BvbnNlQ29kZS5VTl9BVVRIT1JJWkFUSU9OXG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogUmVzcG9uc2VDb2RlLlVOX0FVVEhPUklaQVRJT04sXG4gICAgICAgIG1zZzogZXJyLm1lc3NhZ2VcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LnN0YXR1cyA9IGVyci5zdGF0dXMgfHwgUmVzcG9uc2VDb2RlLlNFUlZJQ0VfRVJST1JcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiBSZXNwb25zZUNvZGUuU0VSVklDRV9FUlJPUixcbiAgICAgICAgbXNnOiBlcnIubWVzc2FnZVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var _utils_Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (async (ctx, next) => {\n  const token = ctx.get('authorization')\n  if (ctx.get('server') === 'true') {\n    return next()\n  } else if (_config__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].UN_AUTHENTICATION_API.includes(ctx.originalUrl)) {\n\t\treturn next()\n\t} else {\n\t\tconst res = await _utils_Utils__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].verifyToken(token.split(' ')[1])\n\t\treturn next()\n\t}\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1Rva2VuVmVyaWZ5SGFuZGxlLmpzPzc5YjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFvQztBQUNKOztBQUVqQjtBQUNmO0FBQ0E7QUFDQTtBQUNBLEdBQUcsVUFBVSx1REFBTTtBQUNuQjtBQUNBLEVBQUU7QUFDRixvQkFBb0IsNERBQUs7QUFDekI7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXRpbHMgZnJvbSAnLi8uLi91dGlscy9VdGlscydcbmltcG9ydCBjb25maWcgZnJvbSAnLi8uLi9jb25maWcnXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgY29uc3QgdG9rZW4gPSBjdHguZ2V0KCdhdXRob3JpemF0aW9uJylcbiAgaWYgKGN0eC5nZXQoJ3NlcnZlcicpID09PSAndHJ1ZScpIHtcbiAgICByZXR1cm4gbmV4dCgpXG4gIH0gZWxzZSBpZiAoY29uZmlnLlVOX0FVVEhFTlRJQ0FUSU9OX0FQSS5pbmNsdWRlcyhjdHgub3JpZ2luYWxVcmwpKSB7XG5cdFx0cmV0dXJuIG5leHQoKVxuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHJlcyA9IGF3YWl0IFV0aWxzLnZlcmlmeVRva2VuKHRva2VuLnNwbGl0KCcgJylbMV0pXG5cdFx0cmV0dXJuIG5leHQoKVxuXHR9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("\n// EXTERNAL MODULE: external \"koa-combine-routers\"\nvar external_koa_combine_routers_ = __webpack_require__(19);\nvar external_koa_combine_routers_default = /*#__PURE__*/__webpack_require__.n(external_koa_combine_routers_);\n\n// EXTERNAL MODULE: external \"koa-router\"\nvar external_koa_router_ = __webpack_require__(3);\nvar external_koa_router_default = /*#__PURE__*/__webpack_require__.n(external_koa_router_);\n\n// EXTERNAL MODULE: ./src/utils/ResponseCode.js\nvar ResponseCode = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/utils/Response.js\n\n\nclass Response_Response {\n  constructor (ctx) {\n    this.ctx = ctx\n  }\n  \n  send(code = ResponseCode[\"a\" /* default */].SUCCESS, msg = '', data=[]) {\n    let body = {\n      code,\n      msg,\n      data\n    }\n    this.ctx.status = code\n    this.ctx.body = body\n  }\n}\n\n/* harmony default export */ var utils_Response = (Response_Response);\n\n// EXTERNAL MODULE: ./src/config/modules/RedisConfig.js\nvar RedisConfig = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/controller/PublicController.js\n// import svgCaptcha from '@/controller/svg-captcha'\n// import { captcha } from './settings'\n\n\n\n\nclass PublicController_PublicController {\n\n  async getCaptcha (ctx) {\n    const body = ctx.request.query\n    \n    // const response = new Response(ctx)\n    // const newCaptcha = svgCaptcha.create(captcha)\n    // setValue(body.sid, newCaptcha.text, 15)\n    // response.send(ResponseCode.SUCCESS, '', newCaptcha.data)\n  }\n\n  test (ctx) {\n    const response = new utils_Response(ctx)\n    response.send(ResponseCode[\"a\" /* default */].SUCCESS, 'success', { success: 200 })\n  }\n}\n\nconst publicController = new PublicController_PublicController()\n\n/* harmony default export */ var controller_PublicController = (publicController);\n\n// CONCATENATED MODULE: ./src/routes/modules/publicRouter.js\n\n\n\n\nconst router = new external_koa_router_default.a()\n\nrouter.prefix('public')\n\nrouter.get('/test', controller_PublicController.test)\nrouter.get('/getCaptcha', controller_PublicController.getCaptcha)\n\n/* harmony default export */ var publicRouter = (router);\n\n// CONCATENATED MODULE: ./src/lib/Response.js\n\n\nclass lib_Response_Response {\n\n  constructor(ctx) {\n    this.ctx = ctx;\n  }\n\n  send(code, data, msg) {\n    if (this.ctx) {\n      this.ctx.status = code;\n      this.ctx.body = {\n        code,\n        msg,\n        data,\n      };\n    } else {\n      throw new Error('send error');\n    }\n  }\n\n  success(data, msg) {\n    this.send(lib_Response_Response.SUCCESS, data, msg);\n  }\n\n  failClient(msg) {\n    this.send(lib_Response_Response.CLIENT_ERROR, [], msg);\n  }\n\n  fail(msg) {\n    this.send(lib_Response_Response.CLIENT_ERROR, [], msg);\n  }\n\n  failService(msg) {\n    this.send(lib_Response_Response.SERVICE_ERROR, [], msg);\n  }\n\n  getResponse() {\n    return this.ctx.response.body.data\n  }\n}\n\nlib_Response_Response.SUCCESS = 200  //  请求成功\nlib_Response_Response.FAIL = 900  //  获取数据失败\nlib_Response_Response.UN_AUTHORIZATION = 401  // 客户端未授权、未登录\nlib_Response_Response.CLIENT_ERROR = 406 //  客户端错误，未传递正确的参数\nlib_Response_Response.SERVICE_ERROR = 501  //  服务器内部错误\n\n/* harmony default export */ var lib_Response = (lib_Response_Response);\n\n// CONCATENATED MODULE: ./src/utils/dataType.js\n// dataType.js\nconst isObject = obj => Object.prototype.toString.call(obj) === '[object Object]'\nconst isNumber = obj => Object.prototype.toString.call(obj) === '[object Number]'\nconst isString = obj => Object.prototype.toString.call(obj) === '[object String]'\nconst isUndefined = obj => Object.prototype.toString.call(obj) === '[object Undefined]'\nconst isBoolean = obj => Object.prototype.toString.call(obj) === '[object Boolean]'\nconst isArray = obj => Object.prototype.toString.call(obj) === '[object Array]'\nconst isFunction = obj => Object.prototype.toString.call(obj) === '[object Function]'\nconst isNull = obj => Object.prototype.toString.call(obj) === '[object Null]'\n\n/* harmony default export */ var dataType = ({\n  isObject,\n  isNumber,\n  isString,\n  isUndefined,\n  isBoolean,\n  isArray,\n  isFunction,\n  isNull\n});\n\n// CONCATENATED MODULE: ./src/utils/validatorForm.js\n\n\n/**\n * Validator 类\n * @param {*} value\n * @param {*} ruleValue\n */\nclass Validator {\n\tconstructor(value, ruleValue) {\n\t\tthis.value = value\n    this.ruleValue = ruleValue\n\t}\n\n\t/**\n\t * 验证是否为空\n\t * @param {*} value\n\t */\n\tempty() {\n\t\treturn !!this.value\n\t}\n\n\t/**\n\t * 最小长度\n\t * @param {*} value\n\t * @param {*} ruleValue\n\t */\n\tminLength() {\n\t\treturn this.value.length >= this.ruleValue\n\t}\n\n\t/**\n\t * 最大长度\n\t * @param {*} value\n\t * @param {*} ruleValue\n\t */\n\tmaxLength(value, ruleValue) {\n\t\treturn this.value.length <= this.ruleValue\n\t}\n\n\t/**\n\t * 长度\n\t * @param {*} value\n\t * @param {*} ruleValue\n\t */\n\tsize(value, ruleValue) {\n\t\treturn this.value.length <= this.ruleValue\n\t}\n\n\t/**\n\t * 是否相等\n\t * @param {*} value\n\t * @param {*} ruleValue\n\t */\n\tequal(value, ruleValue) {\n\t\treturn this.value !== this.ruleValue\n\t}\n}\n\nValidator.systemValidator = ['equal', 'size', 'maxLength', 'minLength', 'empty']\n\nfunction isSystemValidator(rule) {\n\treturn Validator.systemValidator.includes(rule)\n}\n\nlet errMsg = ''\n\nconst validatorForm = function (rules) {\n\tlet _validate = false\n\tif (!isArray(rules)) {\n\t\tthrow new Error('rules must be array')\n\t}\n\tfor (let i = 0; i < rules.length; i++) {\n    let { value, rule, errorMsg, validator } = rules[i]\n\t\tlet validate = false\n\t\tif (rule) {\n\t\t\t// 内置验证方法\n\t\t\tif (rule.includes(':')) {\n\t\t\t\t// 带有冒号的验证\n\t\t\t\tconst ruleArray = rule.split(':')\n\t\t\t\tconst ruleValue = ruleArray[1]\n\t\t\t\trule = ruleArray[0]\n\t\t\t\tif (isSystemValidator(rule)) {\n\t\t\t\t\tvalidate = new Validator(value, ruleValue)[rule]()\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('rule is not exists')\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// 不带冒号\n\t\t\t\tif (isSystemValidator(rule)) {\n          validate = new Validator(value)[rule]()\n          _validate = validate\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('rule is not exists')\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!validate) {\n\t\t\t\t_validate = validate\n        errMsg = errorMsg\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else if (isFunction(validator)) {\n\t\t\t// 自定义验证方法\n\t\t\tconst errMsg = validator(value)\n\t\t\tif (errMsg) {\n\t\t\t\t_validate = validate\n        errMsg = errMsg\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else {\n      throw new Error('rule or validator is not exists')\n    }\n\t}\n\treturn _validate\n}\n\nvalidatorForm.getError = function () {\n  return errMsg\n}\n\n/* harmony default export */ var utils_validatorForm = (validatorForm);\n\n// EXTERNAL MODULE: external \"mongoose\"\nvar external_mongoose_ = __webpack_require__(5);\nvar external_mongoose_default = /*#__PURE__*/__webpack_require__.n(external_mongoose_);\n\n// EXTERNAL MODULE: ./src/config/index.js\nvar config = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/db/conn.js\n\n\n/**\n * 连接\n */\nexternal_mongoose_default.a.connect(config[\"a\" /* default */].DB_URL, {\n  useNewUrlParser: true,\n  useCreateIndex: true,\n  useUnifiedTopology: true\n});\n// sudo docker run -e \"ACCEPT_EULA=Y\" -e \"SA_PASSWORD=Loveyou,\" -p 1433:1433 --name sql1 -d mcr.microsoft.com/mssql/server:2017-latest\n/**\n * 连接成功\n */\nexternal_mongoose_default.a.connection.on(\"connected\", function() {\n  console.log(\"Mongoose connection open to \" + config[\"a\" /* default */].DB_URL);\n});\n\n/**\n * 连接异常\n */\nexternal_mongoose_default.a.connection.on(\"error\", function(err) {\n  console.log(\"Mongoose connection error: \" + err);\n});\n\n/**\n * 连接断开\n */\nexternal_mongoose_default.a.connection.on(\"disconnected\", function() {\n  console.log(\"Mongoose connection disconnected\");\n});\n\n/* harmony default export */ var conn = (external_mongoose_default.a);\n\n// CONCATENATED MODULE: ./src/model/users.js\n\nconst Schema = conn.Schema\n\n/**\n * 管理员\n */\nconst Users = new Schema({\n  username: {\n    type: String,\n    unique: true\n  },\n  name: String,\n  password: String,\n  gender: Number,\n  avatar: String,\n  phone: String,\n  state: {\n    type: Number,\n    default: 0\n  },\n  /**\n   * 数据状态\n   * 0 表示存在\n   * 1 表示删除\n   * 默认 0\n   */\n  isDelete: {\n    type: Number,\n    default: 0\n  },\n  /**\n   * 创建时间\n   */\n  createdAt: {\n    type: Date,\n    default: new Date()\n  }\n})\n\n/* harmony default export */ var model_users = (conn.model('Users', Users));\n\n// CONCATENATED MODULE: ./src/service/UserService.js\n\n\nclass UserService_UserService {\n\t/**\n\t * 查询用户信息\n\t * @param {string} username 用户名\n\t * @param {string} password 密码\n\t */\n\tasync findUserByUsernameAndPassword(username, password) {\n\t\treturn await model_users.find({ username, password })\n\t}\n\n\t/**\n\t * 创建用户\n\t * @param {string} username\n\t * @param {string} password\n\t * @return user\n\t */\n\tasync createUser(username, password) {\n    return await model_users.insertMany({ username, password })\n  }\n  \n    /**\n   * 通过 用户名 查找用户\n   * @param {string} username\n   * @return user\n   */\n  async findByUsername(username) {\n    return await model_users.find({ username });\n  }\n\n    /**\n   * 通过 id 查找用户\n   */\n  async findUserById(id) {\n    return await model_users.findOne({ _id: id }, { password: 0 });\n  }\n}\n\n/* harmony default export */ var service_UserService = (UserService_UserService);\n\n// CONCATENATED MODULE: ./src/model/course.js\n\nconst course_Schema = conn.Schema\n\n/**\n * 填空题\n */\nconst Courses = new course_Schema({\n  courseName: String,\n  level: Number,\n  levelOneId: String,\n  levelTwoId: String,\n  operator: {\n    type: course_Schema.Types.ObjectId,\n    ref: 'Users'\n  },\n  isDelete: {\n    type: Number,\n    default: 1\n  },\n  createdAt: {\n    type: Date,\n    default: new Date()\n  }\n})\n\n/* harmony default export */ var course = (conn.model('Courses', Courses));\n\n// CONCATENATED MODULE: ./src/service/CourseService.js\n\n\n\n\n// 编写业务逻辑层\n\n/**\n * CourseService\n */\nclass CourseService_CourseService {\n\t/**\n\t * 查询所有一级课程\n\t */\n\tasync findAllCourse(level) {\n\t\treturn await course.find({ level, isDelete: 1 }).populate([\n\t\t\t{ path: 'operator', select: { username: 1, _id: 1 } },\n\t\t])\n\t}\n\n\t/**\n\t * 删除一级课程\n\t */\n\tasync deleteCourseById(_id) {\n\t\treturn await course.updateMany({ _id }, { isDelete: -1 })\n\t}\n\n\t/**\n\t * 修改一级课程\n\t */\n\tasync updateCourseById(_id, courseName, levelOneId, levelTwoId) {\n\t\treturn await course.updateMany(\n\t\t\t{ _id },\n\t\t\t{ courseName, levelOneId, levelTwoId }\n\t\t)\n\t}\n\n\t/**\n\t * 通过 课程名 查找一级课程信息\n\t * *@return user\n\t * @param courseName\n\t */\n\tasync findByCourseName(courseName) {\n\t\treturn await course.find({ courseName })\n\t}\n\n\t/**\n\t * 创建课程\n\t * @param courseName\n\t * @param operatorId\n\t */\n\tasync createCourse(courseName, level, levelOneId, levelTwoId, operatorId) {\n\t\treturn await course.create({\n\t\t\tcourseName,\n\t\t\tlevel,\n\t\t\tlevelOneId,\n\t\t\tlevelTwoId,\n\t\t\toperator: operatorId,\n\t\t})\n\t}\n}\n\n// CONCATENATED MODULE: ./src/service/index.js\n\n\n\n/* harmony default export */ var service = ({\n  userService: new service_UserService(),\n  courseService: new CourseService_CourseService(),\n});\n// EXTERNAL MODULE: ./src/utils/Utils.js\nvar Utils = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/controller/CourseController.js\n\n\n\n\n\nconst CourseController = {\n\t/**\n\t * @summary 添加一级科目\n\t */\n\tasync createCourse(ctx) {\n\t\tconst response = new lib_Response(ctx)\n\n\t\tlet { courseName, level, levelOneId, levelTwoId } = ctx.request.body\n\n\t\tlet rules = [{ value: courseName, errorMsg: '课程名不能为空', rule: 'empty' }]\n\n\t\tlevel = Number(level)\n\n\t\tif (level === 2) {\n\t\t\trules = rules.concat([{ value: levelOneId, errorMsg: '一级课程id不能为空', rule: 'empty' }])\n\t\t} else if (level === 3) {\n\t\t\trules = rules.concat([\n\t\t\t\t{ value: levelOneId, errorMsg: '一级课程id不能为空', rule: 'empty' },\n\t\t\t\t{ value: levelTwoId, errorMsg: '二级课程id不能为空', rule: 'empty' },\n\t\t\t])\n\t\t} else {\n\t\t\trules = [{ value: level, errorMsg: 'level不能为空', rule: 'empty' }]\n\t\t}\n\n\t\tconst validator = utils_validatorForm(rules)\n\n\t\tif (!validator) {\n\t\t\tresponse.failClient(utils_validatorForm.getError())\n\t\t\treturn\n\t\t}\n\n\t\tconst uid = await Utils[\"a\" /* default */].getRedisUid(ctx)\n\n\t\tif (!uid) {\n\t\t\tresponse.failClient('请先登录')\n\t\t}\n\n\t\tconst findCourse = await service.courseService.findByCourseName(courseName)\n\n\t\tif (Utils[\"a\" /* default */].isEmptyArray(findCourse)) {\n\t\t\tawait service.courseService.createCourse(\n\t\t\t\tcourseName,\n\t\t\t\tlevel,\n\t\t\t\tlevelOneId,\n\t\t\t\tlevelTwoId,\n\t\t\t\tuid\n\t\t\t)\n\t\t\tresponse.success([], '')\n\t\t\treturn\n\t\t}\n\n\t\tresponse.failClient('课程名已存在')\n\t},\n\n\t/**\n\t * @summary 查询所有课程\n\t */\n\tasync findAllCourse(ctx, next, body) {\n\t\tconst response = new lib_Response(ctx)\n\n\t\tlet { level } = ctx.request.query\n\n\t\tif (!level) {\n\t\t\tlevel = body.level\n\t\t}\n\n\t\tlevel = Number(level)\n\n\t\tconst rules = [{ value: level, errorMsg: 'level不能为空', rule: 'empty' }]\n\n\t\tconst validator = utils_validatorForm(rules)\n\n\t\tif (!validator) {\n\t\t\tresponse.failClient(utils_validatorForm.getError())\n\t\t\treturn\n\t\t}\n\n\t\tconst findCourse = await service.courseService.findAllCourse(level)\n\n\t\tresponse.success(findCourse, '')\n\n\t\treturn response.getResponse()\n\t},\n\n\t/**\n\t * @summary app 查询所有课程\n\t */\n\tasync findAllCourseList(ctx, next) {\n\t\tconst response = new lib_Response(ctx)\n\n\t\tconst courseOne = await CourseController.findAllCourse(ctx, next, {\n\t\t\tlevel: 1,\n\t\t})\n\t\tconst courseTwo = await CourseController.findAllCourse(ctx, next, {\n\t\t\tlevel: 2,\n\t\t})\n\t\tconst courseThree = await CourseController.findAllCourse(ctx, next, {\n\t\t\tlevel: 3,\n    })\n    \n    const twoFinal = []\n    courseTwo.forEach(v => {\n      const item = {\n\t\t\t\tcourseName: v.courseName,\n\t\t\t\t_id: v._id,\n\t\t\t\tlevel: v.level,\n\t\t\t\tlevelOneId: v.levelOneId,\n\t\t\t\tchildren: [],\n\t\t\t}\n\t\t\ttwoFinal.push(item)\n    })\n\n    twoFinal.forEach((item) => {\n\t\t\tcourseThree.forEach((v) => {\n\t\t\t\tif (item._id.toString() === v.levelTwoId.toString()) {\n\t\t\t\t\tconst levelTwo = {\n\t\t\t\t\t\tcourseName: v.courseName,\n\t\t\t\t\t\t_id: v._id,\n\t\t\t\t\t\tlevel: v.level,\n\t\t\t\t\t\tlevelOneId: v.levelOneId,\n\t\t\t\t\t\tlevelTwoId: v.levelTwoId,\n\t\t\t\t\t\tchildren: [],\n          }\n          item.children.push(levelTwo)\n\t\t\t\t}\n\t\t\t})\n    })\n    \n\n\t\tconst res = []\n\n\t\tcourseOne.forEach((v) => {\n\t\t\tconst levelOne = {\n\t\t\t\tcourseName: v.courseName,\n\t\t\t\t_id: v._id,\n\t\t\t\tlevel: v.level,\n\t\t\t\tchildren: [],\n\t\t\t}\n\t\t\tres.push(levelOne)\n\t\t})\n\n\t\tres.forEach((resItem) => {\n\t\t\ttwoFinal.forEach((two) => {\n\t\t\t\tif (resItem._id.toString() === two.levelOneId) {\n          resItem.children.push(two)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\n\t\tresponse.success(res, '')\n\t},\n\n\t/**\n\t * @summary 删除一级课程\n\t * @router delete /course/one\n\t * @request query string id 课程id\n\t * @response 200 courseEmptyResponse\n\t */\n\tasync deleteCourseById(ctx) {\n\t\tconst response = new lib_Response(ctx)\n\n\t\tconst { id } = ctx.request.query\n\n\t\tconst rules = [{ value: id, errorMsg: 'id不能为空', rule: 'empty' }]\n\n\t\tconst validator = utils_validatorForm(rules)\n\n\t\tif (!validator) {\n\t\t\tresponse.failClient(utils_validatorForm.getError())\n\t\t\treturn\n\t\t}\n\n\t\tconst findCourse = await service.courseService.deleteCourseById(id)\n\n\t\tif (findCourse.n === 1 && findCourse.nModified === 1) {\n\t\t\tresponse.success('', '')\n\t\t} else {\n\t\t\tresponse.fail('删除失败')\n\t\t}\n\t},\n\n\t/**\n\t * @summary 修改课程\n\t */\n\tasync updateCourseById(ctx) {\n\t\tconst response = new lib_Response(ctx)\n\n\t\tlet { id, courseName, level, levelOneId, levelTwoId } = ctx.request.body\n\n\t\tlet rules = []\n\n\t\tlevel = Number(level)\n\n\t\tif (level === 1) {\n\t\t\trules = [\n\t\t\t\t{ value: id, errorMsg: '课程ID不能为空', rule: 'empty' },\n\t\t\t\t{ value: courseName, errorMsg: '课程名不能为空', rule: 'empty' },\n\t\t\t]\n\t\t} else if (level === 2) {\n\t\t\trules = [\n\t\t\t\t{ value: id, errorMsg: '课程ID不能为空', rule: 'empty' },\n\t\t\t\t{ value: courseName, errorMsg: '课程名不能为空', rule: 'empty' },\n\t\t\t\t{ value: levelOneId, errorMsg: '一级课程id不能为空', rule: 'empty' },\n\t\t\t]\n\t\t} else if (level === 3) {\n\t\t\trules = [\n\t\t\t\t{ value: id, errorMsg: '课程ID不能为空', rule: 'empty' },\n\t\t\t\t{ value: courseName, errorMsg: '课程名不能为空', rule: 'empty' },\n\t\t\t\t{ value: levelOneId, errorMsg: '一级课程id不能为空', rule: 'empty' },\n\t\t\t\t{ value: levelTwoId, errorMsg: '二级课程id不能为空', rule: 'empty' },\n\t\t\t]\n\t\t} else {\n\t\t\trules = [{ value: level, errorMsg: 'level不能为空', rule: 'empty' }]\n\t\t}\n\n\t\tconst validator = utils_validatorForm(rules)\n\n\t\tif (!validator) {\n\t\t\tresponse.failClient(utils_validatorForm.getError())\n\t\t\treturn\n\t\t}\n\n\t\tconst findCourse = await service.courseService.updateCourseById(\n\t\t\tid,\n\t\t\tcourseName,\n\t\t\tlevelOneId,\n\t\t\tlevelTwoId\n\t\t)\n\n\t\tif (findCourse.n === 1 && findCourse.nModified === 1) {\n\t\t\tresponse.success('', '')\n\t\t} else {\n\t\t\tresponse.fail('更新失败')\n\t\t}\n\t},\n}\n\n/* harmony default export */ var controller_CourseController = (CourseController);\n\n// CONCATENATED MODULE: ./src/utils/MongoCode.js\nclass MongoCode {}\n\nMongoCode.UNIQUE = 11000  // 字段不能重复\n\n/* harmony default export */ var utils_MongoCode = (MongoCode);\n\n// CONCATENATED MODULE: ./src/utils/StatusCode.js\nconst StatusCode = {\n  // 0: '启动',\n  // 1: '关闭'\n}\n/* harmony default export */ var utils_StatusCode = (StatusCode);\n\n// CONCATENATED MODULE: ./src/service/UserDB.js\n\n\n\n\n\n\n\n/**\n * 查询总数量\n * @param condition\n * @returns {Promise<unknown>}\n */\nconst getCount = function (condition) {\n  return new Promise(resolve => {\n    model_users.countDocuments(condition, function (err, count) {\n      resolve(count)\n    })\n  })\n}\n\n/**\n * 登录\n * @param query\n * @returns {Promise<{code, msg. data}>}\n */\nconst login = function (query) {\n  return new Promise((resolve => {\n      const { _id, username, password } = query\n      model_users.findOne({ username, password }, (err, users) => {\n        if (err) {\n          resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: err })\n        }\n        if (Utils[\"a\" /* default */].isEmptyObject(users)) {\n          resolve({ code: ResponseCode[\"a\" /* default */].CLIENT_ERROR, msg: '账号或密码不正确' })\n          return\n        }\n        if (users.state === 1) {\n          resolve({ code: ResponseCode[\"a\" /* default */].SUCCESS, msg: '该账号已锁定' })\n          return\n        }\n        const data = {\n          uid: users._id,\n          token: Utils[\"a\" /* default */].getToken(_id)\n        }\n        resolve({ code: ResponseCode[\"a\" /* default */].SUCCESS, data })\n      })\n    }\n  ))\n}\n\n/**\n * 注册\n * @param insert\n * @returns {Promise<{code, msg. data}>}\n */\nconst register = function (insert) {\n  return new Promise((resolve => {\n    model_users.insertMany(insert, (err, users) => {\n      if (err) {\n        if (err.code === utils_MongoCode.UNIQUE) {\n          resolve({ code: ResponseCode[\"a\" /* default */].CLIENT_ERROR, msg: '用户名已存在' })\n        } else {\n          resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: err })\n        }\n      }\n      resolve({ code: ResponseCode[\"a\" /* default */].SUCCESS, msg: '注册成功', data: [] })\n    })\n  }))\n}\n\n/**\n * 查询账号是否存在\n * @param username\n * @returns {Promise<{code, msg. data}>}\n */\nconst hasUsername = function (username) {\n  return new Promise((resolve => {\n    model_users.findOne({ username }, (err, users) => {\n      if (err) {\n        resolve(false)\n      }\n      if (Utils[\"a\" /* default */].isEmptyObject(users)) {\n        resolve(false)\n      }\n      resolve(true)\n    })\n  }))\n}\n\n/**\n *\n * 查询是否有邮箱\n * @param email\n * @returns {Promise<{code, msg. data}>}\n */\nconst hasUserEmail = function (email) {\n  return new Promise((resolve => {\n    model_users.findOne({ email }, (err, users) => {\n      if (err) {\n        resolve(false)\n      }\n      if (Utils[\"a\" /* default */].isEmptyObject(users)) {\n        resolve(false)\n      }\n      resolve(true)\n    })\n  }))\n}\n\n/**\n * 获取考生信息\n * @param uid\n * @returns {Promise<unknown>}\n */\nconst getUserInfo = function (uid) {\n  return new Promise(resolve => {\n    model_users.findById(uid, { __v: 0, isDelete: 0, password: 0 },(err, user) => {\n      if (err) {\n        resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: err })\n        return\n      }\n      resolve({ code: ResponseCode[\"a\" /* default */].SUCCESS, data: { user } })\n    })\n  })\n}\n\n/**\n * 获取所有考生信息\n * @returns {Promise<unknown>}\n */\nconst getUserInfos = function (query) {\n  return new Promise(async resolve => {\n    const count = await getCount(query.condition)\n    model_users.find(query.condition, { isDelete: 0, __v: 0, password: 0 })\n      .limit(parseInt(query.page.limit))\n      .skip((parseInt(query.page.page) - 1) * parseInt(query.page.limit))\n      .sort({ _id: -1 })\n      .exec((err, users) => {\n        if (err) {\n          resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: err })\n        }\n        resolve({\n          code: ResponseCode[\"a\" /* default */].SUCCESS, data: {\n            list: users,\n            total: count\n          }\n        })\n      })\n  })\n}\n\n/**\n * 通过用户名获取管理员信息\n * @returns {Promise<unknown>}\n */\nconst getUserInfoByUsername = function (username) {\n  return new Promise(resolve => {\n    model_users.findOne({ username }, { _id: 1}, (err, admins) => {\n      if (err) {\n        resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: err })\n      }\n      resolve({ code: ResponseCode[\"a\" /* default */].SUCCESS, data: admins })\n    })\n  })\n}\n\n\n/**\n * 启动或关闭账号\n * @param query\n * @returns {Promise<unknown>}\n */\nconst openOrCloseUser = function (query) {\n  return new Promise((resolve => {\n      model_users.updateOne({ _id: query._id }, { $set: { state: query.state } }, (err, users) => {\n        if (err) {\n          resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: err })\n        }\n        resolve({ code: ResponseCode[\"a\" /* default */].SUCCESS, msg: utils_StatusCode[query.state] + '成功', data: [] })\n      })\n    }\n  ))\n}\n\n/**\n * 更新用户\n * @param body\n * @returns {Promise<unknown>}\n */\nconst updateUser = function (body) {\n  return new Promise((resolve => {\n      model_users.updateOne(body.query, { $set: body.update }, (err, users) => {\n        if (err) {\n          resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: err })\n        }\n        if (users.nModified === 1) {\n          resolve({ code: ResponseCode[\"a\" /* default */].SUCCESS, msg: '更新成功', data: [] })\n        } else {\n          resolve({ code: ResponseCode[\"a\" /* default */].SERVICE_ERROR, msg: '更新失败', data: [] })\n        }\n      })\n    }\n  ))\n}\n\n// CONCATENATED MODULE: ./src/controller/UserController.js\n// import send from './../config/MailConfig'\n// import moment from '@/controller/moment'\n\n\n\n\n\n\n\nconst UserController = {\n  /**\n   * 登录\n   * @param ctx\n   * @returns {Promise<void>}\n   */\n  async login (ctx) {\n    const response = new lib_Response(ctx)\n    \n    const { username, password } = ctx.request.body\n    \n    const rules = [\n      { value: username, errorMsg: '用户名不能为空', rule: 'empty' },\n      { value: password, errorMsg: '密码不能为空', rule: 'empty' },\n    ]\n    \n    const validator = utils_validatorForm(rules)\n    \n    if (!validator) {\n      response.failClient(utils_validatorForm.getError())\n      return\n    }\n    \n    const user = await service.userService.findUserByUsernameAndPassword(username, password)\n    \n    if (Utils[\"a\" /* default */].isEmptyArray(user)) {\n      response.failClient('用户名或密码不正确')\n      return\n    }\n\n    const data = {\n      token: Utils[\"a\" /* default */].getToken(user[0]._id)\n    }\n\n    Object(RedisConfig[\"c\" /* setValue */])(Utils[\"a\" /* default */].encryption(data.token), user[0]._id.toString())\n\n    response.success(data)\n  },\n  \n  /**\n   * 注册\n   * @param ctx\n   * @returns {Promise<void>}\n   */\n  async register (ctx) {\n    const response = new lib_Response(ctx)\n\n    const { username, password } = ctx.request.body\n\n    const rules = [\n      { value: username, errorMsg: '用户名不能为空', rule: 'empty' },\n      { value: password, errorMsg: '密码不能为空', rule: 'empty' },\n    ]\n    \n    const validator = utils_validatorForm(rules)\n    \n    if (!validator) {\n      response.failClient(utils_validatorForm.getError())\n      return\n    }\n\n    const findUsers = await service.userService.findByUsername(username);\n\n    if (Utils[\"a\" /* default */].isEmptyArray(findUsers)) {\n      await service.userService.createUser(username, password);\n      response.success([], '注册成功');\n      return;\n    }\n\n    response.failClient('用户名已存在');\n  },\n\n  /**\n   * 通过UID查询用户信息\n   * @param {*} ctx \n   */\n  async findUserInfoByUID(ctx) {\n    const response = new lib_Response(ctx);\n\n    const token = ctx.request.header.authorization.split('Bearer ')[1];\n\n    const encryptionToken = Utils[\"a\" /* default */].encryption(token);\n\n    const id = await Object(RedisConfig[\"b\" /* getValue */])(encryptionToken);\n\n    if (id) {\n      const user = await service.userService.findUserById(id);\n      response.success(user, '');\n    } else {\n      response.failClient('无 uid');\n    }\n  },\n\n  /**\n   * 退出登录\n   * @param {*} ctx \n   */\n  async logout(ctx) {\n    const response = new lib_Response(ctx)\n\n    const token = ctx.request.header.authorization.split('Bearer ')[1];\n\n    const encryptionToken = Utils[\"a\" /* default */].encryption(token);\n\n    await Object(RedisConfig[\"a\" /* delValue */])(encryptionToken);\n\n    response.success([], '退出登录成功');\n  }\n}\n\n/* harmony default export */ var controller_UserController = (UserController);\n\n// CONCATENATED MODULE: ./src/controller/index.js\n\n\n\n/* harmony default export */ var controller = ({\n  CourseController: controller_CourseController,\n  UserController: controller_UserController,\n});\n// CONCATENATED MODULE: ./src/routes/modules/userRouter.js\n\n\n\nconst userRouter_router = new external_koa_router_default.a()\n\nuserRouter_router.prefix('/user')\n\n// 登录\nuserRouter_router.post('/login', controller.UserController.login)\n\n// 注册\nuserRouter_router.post('/register', controller.UserController.register)\n\n// 获取某用户信息\nuserRouter_router.get('/', controller.UserController.findUserInfoByUID)\n\n// 退出登录\nuserRouter_router.patch('/logout', controller.UserController.logout)\n\n\n/* harmony default export */ var userRouter = (userRouter_router);\n\n// EXTERNAL MODULE: external \"path\"\nvar external_path_ = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/controller/UploadController.js\n\n\n\n\n\n\nclass UploadController_UploadController {\n  async save (ctx) {\n    // 上传单个文件\n    const { file } = ctx.request.files\n    const response = new utils_Response(ctx)\n    Utils[\"a\" /* default */].saveFile(file, `/Users/georgeleeo/Documents/file/Graduation Project/ExamManagement/ExamManagement/media/img/${file.name}`)\n      .then(res => {\n        response.send(ResponseCode[\"a\" /* default */].SUCCESS, '上传成功', res)\n      }).catch(e => {\n      response.send(ResponseCode[\"a\" /* default */].SERVICE_ERROR, '上传失败', e)\n    })\n  }\n}\n\nconst uploadController = new UploadController_UploadController()\n\n/* harmony default export */ var controller_UploadController = (uploadController);\n\n// CONCATENATED MODULE: ./src/routes/modules/uploadRouter.js\n\n\n\nconst uploadRouter_router = new external_koa_router_default.a()\n\n// 查询文件地址\n// router.get('/upload', uploadController.getNotice)\n\n// 创建文件地址\nuploadRouter_router.post('/upload-img', controller_UploadController.save)\n\n/* harmony default export */ var uploadRouter = (uploadRouter_router);\n\n// CONCATENATED MODULE: ./src/routes/modules/courseRouter.js\n\n\n\nconst courseRouter_router = new external_koa_router_default.a()\n\ncourseRouter_router.prefix('/course')\n\ncourseRouter_router.get('/', controller.CourseController.findAllCourse)\n\ncourseRouter_router.get('/list', controller.CourseController.findAllCourseList)\n\ncourseRouter_router.post('/', controller.CourseController.createCourse)\n\ncourseRouter_router.patch('/', controller.CourseController.updateCourseById)\n\ncourseRouter_router.delete('/', controller.CourseController.deleteCourseById)\n\n/* harmony default export */ var courseRouter = (courseRouter_router);\n// CONCATENATED MODULE: ./src/routes/index.js\n\n\n\n\n\n\n\n/* harmony default export */ var routes = __webpack_exports__[\"a\"] = (external_koa_combine_routers_default()(\n\tpublicRouter,\n\tuserRouter,\n  uploadRouter,\n  courseRouter\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvUmVzcG9uc2UuanM/ZWZlNSIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9QdWJsaWNDb250cm9sbGVyLmpzP2ExNDMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlcy9tb2R1bGVzL3B1YmxpY1JvdXRlci5qcz9jZmM1Iiwid2VicGFjazovLy8uL3NyYy9saWIvUmVzcG9uc2UuanM/NmUzMCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZGF0YVR5cGUuanM/MGJlNSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdmFsaWRhdG9yRm9ybS5qcz80MzIyIiwid2VicGFjazovLy8uL3NyYy9kYi9jb25uLmpzPzQ4MTAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3VzZXJzLmpzPzNhMzIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2UvVXNlclNlcnZpY2UuanM/Yzg0MSIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvY291cnNlLmpzP2JmM2MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2UvQ291cnNlU2VydmljZS5qcz85YWI5Iiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlL2luZGV4LmpzPzhlNDQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIvQ291cnNlQ29udHJvbGxlci5qcz8wM2ZjIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Nb25nb0NvZGUuanM/N2U0ZCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU3RhdHVzQ29kZS5qcz9hMDg2Iiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlL1VzZXJEQi5qcz8yNzQxIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL1VzZXJDb250cm9sbGVyLmpzPzBiMzAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIvaW5kZXguanM/ZmJmOCIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL1VwbG9hZENvbnRyb2xsZXIuanM/ZWI1OCIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXBsb2FkUm91dGVyLmpzPzk4OWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlcy9tb2R1bGVzL2NvdXJzZVJvdXRlci5qcz8zODE0Iiwid2VicGFjazovLy8uL3NyYy9yb3V0ZXMvaW5kZXguanM/ZTI2YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWtEOztBQUVsRCxNQUFNLGlCQUFRO0FBQ2Q7QUFDQTtBQUNBOztBQUVBLGNBQWMsK0JBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLG9FQUFROzs7Ozs7QUNsQnZCO0FBQ0EsV0FBVyxVQUFVO0FBQ21CO0FBQzBCO0FBQ2xCOztBQUVoRCxNQUFNLGlDQUFnQjs7QUFFdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLGNBQVE7QUFDakMsa0JBQWtCLCtCQUFZLHNCQUFzQixlQUFlO0FBQ25FO0FBQ0E7O0FBRUEsNkJBQTZCLGlDQUFnQjs7QUFFOUIsZ0ZBQWdCOzs7QUN6QkE7O0FBRWlDOztBQUVoRSxtQkFBbUIsNkJBQU07O0FBRXpCOztBQUVBLG9CQUFvQiwyQkFBZ0I7QUFDcEMsMEJBQTBCLDJCQUFnQjs7QUFFM0IsdURBQU07OztBQ1hSOztBQUViLE1BQU0scUJBQVE7O0FBRWQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxxQkFBUTtBQUN0Qjs7QUFFQTtBQUNBLGNBQWMscUJBQVE7QUFDdEI7O0FBRUE7QUFDQSxjQUFjLHFCQUFRO0FBQ3RCOztBQUVBO0FBQ0EsY0FBYyxxQkFBUTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBUTtBQUNSLHFCQUFRO0FBQ1IscUJBQVE7QUFDUixxQkFBUTtBQUNSLHFCQUFROztBQUVPLHNFQUFRLEVBQUM7OztBQ2hEeEI7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQ25CK0M7O0FBRWhEO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksRUFBRTtBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLEVBQUU7QUFDZCxZQUFZLEVBQUU7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxFQUFFO0FBQ2QsWUFBWSxFQUFFO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksRUFBRTtBQUNkLFlBQVksRUFBRTtBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLEVBQUU7QUFDZCxZQUFZLEVBQUU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxPQUFPO0FBQ2I7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEMsU0FBUyxtQ0FBbUM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxVQUFVLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUscUVBQWE7Ozs7Ozs7Ozs7QUN2SEc7QUFDTztBQUN0QztBQUNBO0FBQ0E7QUFDQSwyQkFBUSxTQUFTLHlCQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUFRO0FBQ1IsK0NBQStDLHlCQUFNO0FBQ3JELENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsMkJBQVE7QUFDUjtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsMkJBQVE7QUFDUjtBQUNBLENBQUM7O0FBRWMsb0VBQVEsRUFBQzs7O0FDaENLO0FBQzdCLGVBQWUsSUFBRTs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVjLG9EQUFFLHNCQUFzQjs7O0FDdkNMOztBQUVsQyxNQUFNLHVCQUFXO0FBQ2pCO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQSxlQUFlLFdBQUssT0FBTyxxQkFBcUI7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFdBQUssYUFBYSxxQkFBcUI7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBSyxPQUFPLFdBQVc7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBSyxVQUFVLFVBQVUsR0FBRyxjQUFjO0FBQzNEO0FBQ0E7O0FBRWUsK0VBQVc7OztBQ3ZDRztBQUM3QixNQUFNLGFBQU0sR0FBRyxJQUFFOztBQUVqQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxhQUFNO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRWMsK0NBQUUsMEJBQTBCOzs7QUN6Qi9COztBQUV3Qjs7QUFFcEM7O0FBRUE7QUFDQTtBQUNBO0FBQ2UsTUFBTSwyQkFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsTUFBTSxPQUFPLHFCQUFxQjtBQUNqRCxJQUFJLDRCQUE0QixzQkFBc0IsRUFBRTtBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxNQUFNLGFBQWEsTUFBTSxHQUFHLGVBQWU7QUFDMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckIsSUFBSSxNQUFNO0FBQ1YsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxNQUFNLE9BQU8sYUFBYTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOzs7QUMzRHVDO0FBQ0k7O0FBRTVCO0FBQ2YsbUJBQW1CLG1CQUFXO0FBQzlCLHFCQUFxQiwyQkFBYTtBQUNsQyxDOzs7OztBQ05zQztBQUNZO0FBQ1o7QUFDSjs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixZQUFROztBQUUvQixPQUFPLDRDQUE0Qzs7QUFFbkQsZ0JBQWdCLHdEQUF3RDs7QUFFeEU7O0FBRUE7QUFDQSwwQkFBMEIsMkRBQTJEO0FBQ3JGLEdBQUc7QUFDSDtBQUNBLEtBQUssMkRBQTJEO0FBQ2hFLEtBQUssMkRBQTJEO0FBQ2hFO0FBQ0EsR0FBRztBQUNILGFBQWEscURBQXFEO0FBQ2xFOztBQUVBLG9CQUFvQixtQkFBYTs7QUFFakM7QUFDQSx1QkFBdUIsbUJBQWE7QUFDcEM7QUFDQTs7QUFFQSxvQkFBb0Isd0JBQUs7O0FBRXpCO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsT0FBTzs7QUFFbEMsTUFBTSx3QkFBSztBQUNYLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFlBQVE7O0FBRS9CLE9BQU8sUUFBUTs7QUFFZjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWtCLHFEQUFxRDs7QUFFdkUsb0JBQW9CLG1CQUFhOztBQUVqQztBQUNBLHVCQUF1QixtQkFBYTtBQUNwQztBQUNBOztBQUVBLDJCQUEyQixPQUFPOztBQUVsQzs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsWUFBUTs7QUFFL0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixLQUFLOzs7QUFHTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFlBQVE7O0FBRS9CLFNBQVMsS0FBSzs7QUFFZCxrQkFBa0IsK0NBQStDOztBQUVqRSxvQkFBb0IsbUJBQWE7O0FBRWpDO0FBQ0EsdUJBQXVCLG1CQUFhO0FBQ3BDO0FBQ0E7O0FBRUEsMkJBQTJCLE9BQU87O0FBRWxDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsWUFBUTs7QUFFL0IsT0FBTyxnREFBZ0Q7O0FBRXZEOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLLGlEQUFpRDtBQUN0RCxLQUFLLHdEQUF3RDtBQUM3RDtBQUNBLEdBQUc7QUFDSDtBQUNBLEtBQUssaURBQWlEO0FBQ3RELEtBQUssd0RBQXdEO0FBQzdELEtBQUssMkRBQTJEO0FBQ2hFO0FBQ0EsR0FBRztBQUNIO0FBQ0EsS0FBSyxpREFBaUQ7QUFDdEQsS0FBSyx3REFBd0Q7QUFDN0QsS0FBSywyREFBMkQ7QUFDaEUsS0FBSywyREFBMkQ7QUFDaEU7QUFDQSxHQUFHO0FBQ0gsYUFBYSxxREFBcUQ7QUFDbEU7O0FBRUEsb0JBQW9CLG1CQUFhOztBQUVqQztBQUNBLHVCQUF1QixtQkFBYTtBQUNwQztBQUNBOztBQUVBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVlLGdGQUFnQjs7O0FDbFAvQjs7QUFFQTs7QUFFZSw2REFBUzs7O0FDSnhCO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsK0RBQVU7OztBQ0pTO0FBQ2M7QUFDZDtBQUNRO0FBQ0U7OztBQUc1QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFLO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUyxnQkFBZ0I7QUFDdEM7QUFDTztBQUNQO0FBQ0EsYUFBYSwwQkFBMEI7QUFDdkMsTUFBTSxXQUFLLFVBQVUscUJBQXFCO0FBQzFDO0FBQ0EsbUJBQW1CLE9BQU8sK0JBQVksMEJBQTBCO0FBQ2hFO0FBQ0EsWUFBWSx3QkFBSztBQUNqQixtQkFBbUIsT0FBTywrQkFBWSxnQ0FBZ0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU8sK0JBQVkseUJBQXlCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdCQUFLO0FBQ3RCO0FBQ0EsaUJBQWlCLE9BQU8sK0JBQVksZ0JBQWdCO0FBQ3BELE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLGdCQUFnQjtBQUN0QztBQUNPO0FBQ1A7QUFDQSxJQUFJLFdBQUs7QUFDVDtBQUNBLHlCQUF5QixlQUFTO0FBQ2xDLG1CQUFtQixPQUFPLCtCQUFZLDhCQUE4QjtBQUNwRSxTQUFTO0FBQ1QsbUJBQW1CLE9BQU8sK0JBQVksMEJBQTBCO0FBQ2hFO0FBQ0E7QUFDQSxlQUFlLE9BQU8sK0JBQVksaUNBQWlDO0FBQ25FLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLGdCQUFnQjtBQUN0QztBQUNPO0FBQ1A7QUFDQSxJQUFJLFdBQUssVUFBVSxXQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0JBQUs7QUFDZjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLGdCQUFnQjtBQUN0QztBQUNPO0FBQ1A7QUFDQSxJQUFJLFdBQUssVUFBVSxRQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0JBQUs7QUFDZjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQSxJQUFJLFdBQUssZ0JBQWdCLG1DQUFtQztBQUM1RDtBQUNBLGlCQUFpQixPQUFPLCtCQUFZLDBCQUEwQjtBQUM5RDtBQUNBO0FBQ0EsZUFBZSxPQUFPLCtCQUFZLGlCQUFpQixPQUFPLEVBQUU7QUFDNUQsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBO0FBQ0EsSUFBSSxXQUFLLHdCQUF3QixtQ0FBbUM7QUFDcEU7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0EsbUJBQW1CLE9BQU8sK0JBQVksMEJBQTBCO0FBQ2hFO0FBQ0E7QUFDQSxnQkFBZ0IsK0JBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQSxJQUFJLFdBQUssVUFBVSxXQUFXLEdBQUcsUUFBUTtBQUN6QztBQUNBLGlCQUFpQixPQUFPLCtCQUFZLDBCQUEwQjtBQUM5RDtBQUNBLGVBQWUsT0FBTywrQkFBWSx3QkFBd0I7QUFDMUQsS0FBSztBQUNMLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBLE1BQU0sV0FBSyxZQUFZLGlCQUFpQixHQUFHLFFBQVEscUJBQXFCLEVBQUU7QUFDMUU7QUFDQSxtQkFBbUIsT0FBTywrQkFBWSwwQkFBMEI7QUFDaEU7QUFDQSxpQkFBaUIsT0FBTywrQkFBWSxlQUFlLGdCQUFVLGdDQUFnQztBQUM3RixPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQSxNQUFNLFdBQUssd0JBQXdCLG9CQUFvQjtBQUN2RDtBQUNBLG1CQUFtQixPQUFPLCtCQUFZLDBCQUEwQjtBQUNoRTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU8sK0JBQVksaUNBQWlDO0FBQ3ZFLFNBQVM7QUFDVCxtQkFBbUIsT0FBTywrQkFBWSx1Q0FBdUM7QUFDN0U7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOzs7QUMzTUE7QUFDQTtBQUNzQztBQUNZO0FBQ1o7QUFDSjtBQUN3QztBQVVoRDs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLHlCQUF5QixZQUFROztBQUVqQyxXQUFXLHFCQUFxQjs7QUFFaEM7QUFDQSxPQUFPLHNEQUFzRDtBQUM3RCxPQUFPLHFEQUFxRDtBQUM1RDs7QUFFQSxzQkFBc0IsbUJBQWE7O0FBRW5DO0FBQ0EsMEJBQTBCLG1CQUFhO0FBQ3ZDO0FBQ0E7O0FBRUEsdUJBQXVCLE9BQU87O0FBRTlCLFFBQVEsd0JBQUs7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLHdCQUFLO0FBQ2xCOztBQUVBLElBQUksdUNBQVEsQ0FBQyx3QkFBSzs7QUFFbEI7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EseUJBQXlCLFlBQVE7O0FBRWpDLFdBQVcscUJBQXFCOztBQUVoQztBQUNBLE9BQU8sc0RBQXNEO0FBQzdELE9BQU8scURBQXFEO0FBQzVEOztBQUVBLHNCQUFzQixtQkFBYTs7QUFFbkM7QUFDQSwwQkFBMEIsbUJBQWE7QUFDdkM7QUFDQTs7QUFFQSw0QkFBNEIsT0FBTzs7QUFFbkMsUUFBUSx3QkFBSztBQUNiLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0EseUJBQXlCLFlBQVE7O0FBRWpDOztBQUVBLDRCQUE0Qix3QkFBSzs7QUFFakMscUJBQXFCLHVDQUFROztBQUU3QjtBQUNBLHlCQUF5QixPQUFPO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0EseUJBQXlCLFlBQVE7O0FBRWpDOztBQUVBLDRCQUE0Qix3QkFBSzs7QUFFakMsVUFBVSx1Q0FBUTs7QUFFbEI7QUFDQTtBQUNBOztBQUVlLDRFQUFjOzs7QUNoSW9CO0FBQ0o7O0FBRTlCO0FBQ2YsRUFBRSw2Q0FBZ0I7QUFDbEIsRUFBRSx5Q0FBYztBQUNoQixDOztBQ04rQjtBQUNnQjs7QUFFL0MsTUFBTSxpQkFBTSxPQUFPLDZCQUFNOztBQUV6QixpQkFBTTs7QUFFTjtBQUNBLGlCQUFNLGdCQUFnQixVQUFVOztBQUVoQztBQUNBLGlCQUFNLG1CQUFtQixVQUFVOztBQUVuQztBQUNBLGlCQUFNLFVBQVUsVUFBVTs7QUFFMUI7QUFDQSxpQkFBTSxrQkFBa0IsVUFBVTs7O0FBR25CLGdFQUFNOzs7Ozs7QUNwQm1CO0FBQ1E7QUFDeUI7QUFDdkM7QUFDWDs7QUFFdkIsTUFBTSxpQ0FBZ0I7QUFDdEI7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQix5QkFBeUIsY0FBUTtBQUNqQyxJQUFJLHdCQUFLLCtHQUErRyxVQUFVO0FBQ2xJO0FBQ0Esc0JBQXNCLCtCQUFZO0FBQ2xDLE9BQU87QUFDUCxvQkFBb0IsK0JBQVk7QUFDaEMsS0FBSztBQUNMO0FBQ0E7O0FBRUEsNkJBQTZCLGlDQUFnQjs7QUFFOUIsZ0ZBQWdCOzs7QUN0QkE7QUFDaUM7O0FBRWhFLE1BQU0sbUJBQU0sT0FBTyw2QkFBTTs7QUFFekI7QUFDQTs7QUFFQTtBQUNBLG1CQUFNLHFCQUFxQiwyQkFBZ0I7O0FBRTVCLG9FQUFNOzs7QUNYVTtBQUNnQjs7QUFFL0MsTUFBTSxtQkFBTSxPQUFPLDZCQUFNOztBQUV6QixtQkFBTTs7QUFFTixtQkFBTSxVQUFVLFVBQVU7O0FBRTFCLG1CQUFNLGNBQWMsVUFBVTs7QUFFOUIsbUJBQU0sV0FBVyxVQUFVOztBQUUzQixtQkFBTSxZQUFZLFVBQVU7O0FBRTVCLG1CQUFNLGFBQWEsVUFBVTs7QUFFZCxvRTs7QUNqQmdDOztBQUVFO0FBQ0o7QUFDSTtBQUNBOztBQUVsQyw0R0FBYTtBQUM1QixDQUFDLFlBQVk7QUFDYixDQUFDLFVBQVU7QUFDWCxFQUFFLFlBQVk7QUFDZCxFQUFFLFlBQVk7QUFDZCxDQUFDIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlc3BvbnNlQ29kZSBmcm9tICcuLy4uL3V0aWxzL1Jlc3BvbnNlQ29kZSdcblxuY2xhc3MgUmVzcG9uc2Uge1xuICBjb25zdHJ1Y3RvciAoY3R4KSB7XG4gICAgdGhpcy5jdHggPSBjdHhcbiAgfVxuICBcbiAgc2VuZChjb2RlID0gUmVzcG9uc2VDb2RlLlNVQ0NFU1MsIG1zZyA9ICcnLCBkYXRhPVtdKSB7XG4gICAgbGV0IGJvZHkgPSB7XG4gICAgICBjb2RlLFxuICAgICAgbXNnLFxuICAgICAgZGF0YVxuICAgIH1cbiAgICB0aGlzLmN0eC5zdGF0dXMgPSBjb2RlXG4gICAgdGhpcy5jdHguYm9keSA9IGJvZHlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZXNwb25zZVxuIiwiLy8gaW1wb3J0IHN2Z0NhcHRjaGEgZnJvbSAnQC9jb250cm9sbGVyL3N2Zy1jYXB0Y2hhJ1xuLy8gaW1wb3J0IHsgY2FwdGNoYSB9IGZyb20gJy4vc2V0dGluZ3MnXG5pbXBvcnQgUmVzcG9uc2UgZnJvbSAnLi4vdXRpbHMvUmVzcG9uc2UnXG5pbXBvcnQgeyBnZXRWYWx1ZSwgc2V0VmFsdWUgfSBmcm9tICcuLi9jb25maWcvbW9kdWxlcy9SZWRpc0NvbmZpZydcbmltcG9ydCBSZXNwb25zZUNvZGUgZnJvbSAnLi4vdXRpbHMvUmVzcG9uc2VDb2RlJ1xuXG5jbGFzcyBQdWJsaWNDb250cm9sbGVyIHtcblxuICBhc3luYyBnZXRDYXB0Y2hhIChjdHgpIHtcbiAgICBjb25zdCBib2R5ID0gY3R4LnJlcXVlc3QucXVlcnlcbiAgICBcbiAgICAvLyBjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShjdHgpXG4gICAgLy8gY29uc3QgbmV3Q2FwdGNoYSA9IHN2Z0NhcHRjaGEuY3JlYXRlKGNhcHRjaGEpXG4gICAgLy8gc2V0VmFsdWUoYm9keS5zaWQsIG5ld0NhcHRjaGEudGV4dCwgMTUpXG4gICAgLy8gcmVzcG9uc2Uuc2VuZChSZXNwb25zZUNvZGUuU1VDQ0VTUywgJycsIG5ld0NhcHRjaGEuZGF0YSlcbiAgfVxuXG4gIHRlc3QgKGN0eCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGN0eClcbiAgICByZXNwb25zZS5zZW5kKFJlc3BvbnNlQ29kZS5TVUNDRVNTLCAnc3VjY2VzcycsIHsgc3VjY2VzczogMjAwIH0pXG4gIH1cbn1cblxuY29uc3QgcHVibGljQ29udHJvbGxlciA9IG5ldyBQdWJsaWNDb250cm9sbGVyKClcblxuZXhwb3J0IGRlZmF1bHQgcHVibGljQ29udHJvbGxlclxuIiwiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuXG5pbXBvcnQgcHVibGljQ29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVyL1B1YmxpY0NvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIucHJlZml4KCdwdWJsaWMnKVxuXG5yb3V0ZXIuZ2V0KCcvdGVzdCcsIHB1YmxpY0NvbnRyb2xsZXIudGVzdClcbnJvdXRlci5nZXQoJy9nZXRDYXB0Y2hhJywgcHVibGljQ29udHJvbGxlci5nZXRDYXB0Y2hhKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcbiIsIid1c2Ugc3RyaWN0JztcblxuY2xhc3MgUmVzcG9uc2Uge1xuXG4gIGNvbnN0cnVjdG9yKGN0eCkge1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICB9XG5cbiAgc2VuZChjb2RlLCBkYXRhLCBtc2cpIHtcbiAgICBpZiAodGhpcy5jdHgpIHtcbiAgICAgIHRoaXMuY3R4LnN0YXR1cyA9IGNvZGU7XG4gICAgICB0aGlzLmN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlLFxuICAgICAgICBtc2csXG4gICAgICAgIGRhdGEsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlbmQgZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICBzdWNjZXNzKGRhdGEsIG1zZykge1xuICAgIHRoaXMuc2VuZChSZXNwb25zZS5TVUNDRVNTLCBkYXRhLCBtc2cpO1xuICB9XG5cbiAgZmFpbENsaWVudChtc2cpIHtcbiAgICB0aGlzLnNlbmQoUmVzcG9uc2UuQ0xJRU5UX0VSUk9SLCBbXSwgbXNnKTtcbiAgfVxuXG4gIGZhaWwobXNnKSB7XG4gICAgdGhpcy5zZW5kKFJlc3BvbnNlLkNMSUVOVF9FUlJPUiwgW10sIG1zZyk7XG4gIH1cblxuICBmYWlsU2VydmljZShtc2cpIHtcbiAgICB0aGlzLnNlbmQoUmVzcG9uc2UuU0VSVklDRV9FUlJPUiwgW10sIG1zZyk7XG4gIH1cblxuICBnZXRSZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jdHgucmVzcG9uc2UuYm9keS5kYXRhXG4gIH1cbn1cblxuUmVzcG9uc2UuU1VDQ0VTUyA9IDIwMCAgLy8gIOivt+axguaIkOWKn1xuUmVzcG9uc2UuRkFJTCA9IDkwMCAgLy8gIOiOt+WPluaVsOaNruWksei0pVxuUmVzcG9uc2UuVU5fQVVUSE9SSVpBVElPTiA9IDQwMSAgLy8g5a6i5oi356uv5pyq5o6I5p2D44CB5pyq55m75b2VXG5SZXNwb25zZS5DTElFTlRfRVJST1IgPSA0MDYgLy8gIOWuouaIt+err+mUmeivr++8jOacquS8oOmAkuato+ehrueahOWPguaVsFxuUmVzcG9uc2UuU0VSVklDRV9FUlJPUiA9IDUwMSAgLy8gIOacjeWKoeWZqOWGhemDqOmUmeivr1xuXG5leHBvcnQgZGVmYXVsdCBSZXNwb25zZTtcbiIsIi8vIGRhdGFUeXBlLmpzXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSBvYmogPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nXG5leHBvcnQgY29uc3QgaXNOdW1iZXIgPSBvYmogPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nXG5leHBvcnQgY29uc3QgaXNTdHJpbmcgPSBvYmogPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nXG5leHBvcnQgY29uc3QgaXNVbmRlZmluZWQgPSBvYmogPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFVuZGVmaW5lZF0nXG5leHBvcnQgY29uc3QgaXNCb29sZWFuID0gb2JqID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSdcbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gb2JqID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nXG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbiA9IG9iaiA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJ1xuZXhwb3J0IGNvbnN0IGlzTnVsbCA9IG9iaiA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgTnVsbF0nXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNPYmplY3QsXG4gIGlzTnVtYmVyLFxuICBpc1N0cmluZyxcbiAgaXNVbmRlZmluZWQsXG4gIGlzQm9vbGVhbixcbiAgaXNBcnJheSxcbiAgaXNGdW5jdGlvbixcbiAgaXNOdWxsXG59XG4iLCJpbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9kYXRhVHlwZSdcblxuLyoqXG4gKiBWYWxpZGF0b3Ig57G7XG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcGFyYW0geyp9IHJ1bGVWYWx1ZVxuICovXG5jbGFzcyBWYWxpZGF0b3Ige1xuXHRjb25zdHJ1Y3Rvcih2YWx1ZSwgcnVsZVZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgdGhpcy5ydWxlVmFsdWUgPSBydWxlVmFsdWVcblx0fVxuXG5cdC8qKlxuXHQgKiDpqozor4HmmK/lkKbkuLrnqbpcblx0ICogQHBhcmFtIHsqfSB2YWx1ZVxuXHQgKi9cblx0ZW1wdHkoKSB7XG5cdFx0cmV0dXJuICEhdGhpcy52YWx1ZVxuXHR9XG5cblx0LyoqXG5cdCAqIOacgOWwj+mVv+W6plxuXHQgKiBAcGFyYW0geyp9IHZhbHVlXG5cdCAqIEBwYXJhbSB7Kn0gcnVsZVZhbHVlXG5cdCAqL1xuXHRtaW5MZW5ndGgoKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoID49IHRoaXMucnVsZVZhbHVlXG5cdH1cblxuXHQvKipcblx0ICog5pyA5aSn6ZW/5bqmXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWVcblx0ICogQHBhcmFtIHsqfSBydWxlVmFsdWVcblx0ICovXG5cdG1heExlbmd0aCh2YWx1ZSwgcnVsZVZhbHVlKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoIDw9IHRoaXMucnVsZVZhbHVlXG5cdH1cblxuXHQvKipcblx0ICog6ZW/5bqmXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWVcblx0ICogQHBhcmFtIHsqfSBydWxlVmFsdWVcblx0ICovXG5cdHNpemUodmFsdWUsIHJ1bGVWYWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aCA8PSB0aGlzLnJ1bGVWYWx1ZVxuXHR9XG5cblx0LyoqXG5cdCAqIOaYr+WQpuebuOetiVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlXG5cdCAqIEBwYXJhbSB7Kn0gcnVsZVZhbHVlXG5cdCAqL1xuXHRlcXVhbCh2YWx1ZSwgcnVsZVZhbHVlKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWUgIT09IHRoaXMucnVsZVZhbHVlXG5cdH1cbn1cblxuVmFsaWRhdG9yLnN5c3RlbVZhbGlkYXRvciA9IFsnZXF1YWwnLCAnc2l6ZScsICdtYXhMZW5ndGgnLCAnbWluTGVuZ3RoJywgJ2VtcHR5J11cblxuZnVuY3Rpb24gaXNTeXN0ZW1WYWxpZGF0b3IocnVsZSkge1xuXHRyZXR1cm4gVmFsaWRhdG9yLnN5c3RlbVZhbGlkYXRvci5pbmNsdWRlcyhydWxlKVxufVxuXG5sZXQgZXJyTXNnID0gJydcblxuY29uc3QgdmFsaWRhdG9yRm9ybSA9IGZ1bmN0aW9uIChydWxlcykge1xuXHRsZXQgX3ZhbGlkYXRlID0gZmFsc2Vcblx0aWYgKCFpc0FycmF5KHJ1bGVzKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcigncnVsZXMgbXVzdCBiZSBhcnJheScpXG5cdH1cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCB7IHZhbHVlLCBydWxlLCBlcnJvck1zZywgdmFsaWRhdG9yIH0gPSBydWxlc1tpXVxuXHRcdGxldCB2YWxpZGF0ZSA9IGZhbHNlXG5cdFx0aWYgKHJ1bGUpIHtcblx0XHRcdC8vIOWGhee9rumqjOivgeaWueazlVxuXHRcdFx0aWYgKHJ1bGUuaW5jbHVkZXMoJzonKSkge1xuXHRcdFx0XHQvLyDluKbmnInlhpLlj7fnmoTpqozor4Fcblx0XHRcdFx0Y29uc3QgcnVsZUFycmF5ID0gcnVsZS5zcGxpdCgnOicpXG5cdFx0XHRcdGNvbnN0IHJ1bGVWYWx1ZSA9IHJ1bGVBcnJheVsxXVxuXHRcdFx0XHRydWxlID0gcnVsZUFycmF5WzBdXG5cdFx0XHRcdGlmIChpc1N5c3RlbVZhbGlkYXRvcihydWxlKSkge1xuXHRcdFx0XHRcdHZhbGlkYXRlID0gbmV3IFZhbGlkYXRvcih2YWx1ZSwgcnVsZVZhbHVlKVtydWxlXSgpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdydWxlIGlzIG5vdCBleGlzdHMnKVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyDkuI3luKblhpLlj7dcblx0XHRcdFx0aWYgKGlzU3lzdGVtVmFsaWRhdG9yKHJ1bGUpKSB7XG4gICAgICAgICAgdmFsaWRhdGUgPSBuZXcgVmFsaWRhdG9yKHZhbHVlKVtydWxlXSgpXG4gICAgICAgICAgX3ZhbGlkYXRlID0gdmFsaWRhdGVcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3J1bGUgaXMgbm90IGV4aXN0cycpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICghdmFsaWRhdGUpIHtcblx0XHRcdFx0X3ZhbGlkYXRlID0gdmFsaWRhdGVcbiAgICAgICAgZXJyTXNnID0gZXJyb3JNc2dcblx0XHRcdFx0YnJlYWtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuXHRcdFx0Ly8g6Ieq5a6a5LmJ6aqM6K+B5pa55rOVXG5cdFx0XHRjb25zdCBlcnJNc2cgPSB2YWxpZGF0b3IodmFsdWUpXG5cdFx0XHRpZiAoZXJyTXNnKSB7XG5cdFx0XHRcdF92YWxpZGF0ZSA9IHZhbGlkYXRlXG4gICAgICAgIGVyck1zZyA9IGVyck1zZ1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3J1bGUgb3IgdmFsaWRhdG9yIGlzIG5vdCBleGlzdHMnKVxuICAgIH1cblx0fVxuXHRyZXR1cm4gX3ZhbGlkYXRlXG59XG5cbnZhbGlkYXRvckZvcm0uZ2V0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBlcnJNc2dcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdG9yRm9ybVxuIiwiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vLi4vY29uZmlnL2luZGV4J1xuLyoqXG4gKiDov57mjqVcbiAqL1xubW9uZ29vc2UuY29ubmVjdChjb25maWcuREJfVVJMLCB7XG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxufSk7XG4vLyBzdWRvIGRvY2tlciBydW4gLWUgXCJBQ0NFUFRfRVVMQT1ZXCIgLWUgXCJTQV9QQVNTV09SRD1Mb3ZleW91LFwiIC1wIDE0MzM6MTQzMyAtLW5hbWUgc3FsMSAtZCBtY3IubWljcm9zb2Z0LmNvbS9tc3NxbC9zZXJ2ZXI6MjAxNy1sYXRlc3Rcbi8qKlxuICog6L+e5o6l5oiQ5YqfXG4gKi9cbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oXCJjb25uZWN0ZWRcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKFwiTW9uZ29vc2UgY29ubmVjdGlvbiBvcGVuIHRvIFwiICsgY29uZmlnLkRCX1VSTCk7XG59KTtcblxuLyoqXG4gKiDov57mjqXlvILluLhcbiAqL1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbihcImVycm9yXCIsIGZ1bmN0aW9uKGVycikge1xuICBjb25zb2xlLmxvZyhcIk1vbmdvb3NlIGNvbm5lY3Rpb24gZXJyb3I6IFwiICsgZXJyKTtcbn0pO1xuXG4vKipcbiAqIOi/nuaOpeaWreW8gFxuICovXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKFwiZGlzY29ubmVjdGVkXCIsIGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZyhcIk1vbmdvb3NlIGNvbm5lY3Rpb24gZGlzY29ubmVjdGVkXCIpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlO1xuIiwiaW1wb3J0IGRiIGZyb20gJy4vLi4vZGIvY29ubidcbmNvbnN0IFNjaGVtYSA9IGRiLlNjaGVtYVxuXG4vKipcbiAqIOeuoeeQhuWRmFxuICovXG5jb25zdCBVc2VycyA9IG5ldyBTY2hlbWEoe1xuICB1c2VybmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB1bmlxdWU6IHRydWVcbiAgfSxcbiAgbmFtZTogU3RyaW5nLFxuICBwYXNzd29yZDogU3RyaW5nLFxuICBnZW5kZXI6IE51bWJlcixcbiAgYXZhdGFyOiBTdHJpbmcsXG4gIHBob25lOiBTdHJpbmcsXG4gIHN0YXRlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgLyoqXG4gICAqIOaVsOaNrueKtuaAgVxuICAgKiAwIOihqOekuuWtmOWcqFxuICAgKiAxIOihqOekuuWIoOmZpFxuICAgKiDpu5jorqQgMFxuICAgKi9cbiAgaXNEZWxldGU6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICAvKipcbiAgICog5Yib5bu65pe26Ze0XG4gICAqL1xuICBjcmVhdGVkQXQ6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IG5ldyBEYXRlKClcbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgZGIubW9kZWwoJ1VzZXJzJywgVXNlcnMpXG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWwvdXNlcnMnXG5cbmNsYXNzIFVzZXJTZXJ2aWNlIHtcblx0LyoqXG5cdCAqIOafpeivoueUqOaIt+S/oeaBr1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUg55So5oi35ZCNXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCDlr4bnoIFcblx0ICovXG5cdGFzeW5jIGZpbmRVc2VyQnlVc2VybmFtZUFuZFBhc3N3b3JkKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdHJldHVybiBhd2FpdCBVc2Vycy5maW5kKHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pXG5cdH1cblxuXHQvKipcblx0ICog5Yib5bu655So5oi3XG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmRcblx0ICogQHJldHVybiB1c2VyXG5cdCAqL1xuXHRhc3luYyBjcmVhdGVVc2VyKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgIHJldHVybiBhd2FpdCBVc2Vycy5pbnNlcnRNYW55KHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pXG4gIH1cbiAgXG4gICAgLyoqXG4gICAqIOmAmui/hyDnlKjmiLflkI0g5p+l5om+55So5oi3XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZVxuICAgKiBAcmV0dXJuIHVzZXJcbiAgICovXG4gIGFzeW5jIGZpbmRCeVVzZXJuYW1lKHVzZXJuYW1lKSB7XG4gICAgcmV0dXJuIGF3YWl0IFVzZXJzLmZpbmQoeyB1c2VybmFtZSB9KTtcbiAgfVxuXG4gICAgLyoqXG4gICAqIOmAmui/hyBpZCDmn6Xmib7nlKjmiLdcbiAgICovXG4gIGFzeW5jIGZpbmRVc2VyQnlJZChpZCkge1xuICAgIHJldHVybiBhd2FpdCBVc2Vycy5maW5kT25lKHsgX2lkOiBpZCB9LCB7IHBhc3N3b3JkOiAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJTZXJ2aWNlXG4iLCJpbXBvcnQgZGIgZnJvbSAnLi8uLi9kYi9jb25uJ1xuY29uc3QgU2NoZW1hID0gZGIuU2NoZW1hXG5cbi8qKlxuICog5aGr56m66aKYXG4gKi9cbmNvbnN0IENvdXJzZXMgPSBuZXcgU2NoZW1hKHtcbiAgY291cnNlTmFtZTogU3RyaW5nLFxuICBsZXZlbDogTnVtYmVyLFxuICBsZXZlbE9uZUlkOiBTdHJpbmcsXG4gIGxldmVsVHdvSWQ6IFN0cmluZyxcbiAgb3BlcmF0b3I6IHtcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiAnVXNlcnMnXG4gIH0sXG4gIGlzRGVsZXRlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDFcbiAgfSxcbiAgY3JlYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBuZXcgRGF0ZSgpXG4gIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IGRiLm1vZGVsKCdDb3Vyc2VzJywgQ291cnNlcylcbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgQ291cnNlIGZyb20gJy4uL21vZGVsL2NvdXJzZSdcblxuLy8g57yW5YaZ5Lia5Yqh6YC76L6R5bGCXG5cbi8qKlxuICogQ291cnNlU2VydmljZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb3Vyc2VTZXJ2aWNlIHtcblx0LyoqXG5cdCAqIOafpeivouaJgOacieS4gOe6p+ivvueoi1xuXHQgKi9cblx0YXN5bmMgZmluZEFsbENvdXJzZShsZXZlbCkge1xuXHRcdHJldHVybiBhd2FpdCBDb3Vyc2UuZmluZCh7IGxldmVsLCBpc0RlbGV0ZTogMSB9KS5wb3B1bGF0ZShbXG5cdFx0XHR7IHBhdGg6ICdvcGVyYXRvcicsIHNlbGVjdDogeyB1c2VybmFtZTogMSwgX2lkOiAxIH0gfSxcblx0XHRdKVxuXHR9XG5cblx0LyoqXG5cdCAqIOWIoOmZpOS4gOe6p+ivvueoi1xuXHQgKi9cblx0YXN5bmMgZGVsZXRlQ291cnNlQnlJZChfaWQpIHtcblx0XHRyZXR1cm4gYXdhaXQgQ291cnNlLnVwZGF0ZU1hbnkoeyBfaWQgfSwgeyBpc0RlbGV0ZTogLTEgfSlcblx0fVxuXG5cdC8qKlxuXHQgKiDkv67mlLnkuIDnuqfor77nqItcblx0ICovXG5cdGFzeW5jIHVwZGF0ZUNvdXJzZUJ5SWQoX2lkLCBjb3Vyc2VOYW1lLCBsZXZlbE9uZUlkLCBsZXZlbFR3b0lkKSB7XG5cdFx0cmV0dXJuIGF3YWl0IENvdXJzZS51cGRhdGVNYW55KFxuXHRcdFx0eyBfaWQgfSxcblx0XHRcdHsgY291cnNlTmFtZSwgbGV2ZWxPbmVJZCwgbGV2ZWxUd29JZCB9XG5cdFx0KVxuXHR9XG5cblx0LyoqXG5cdCAqIOmAmui/hyDor77nqIvlkI0g5p+l5om+5LiA57qn6K++56iL5L+h5oGvXG5cdCAqICpAcmV0dXJuIHVzZXJcblx0ICogQHBhcmFtIGNvdXJzZU5hbWVcblx0ICovXG5cdGFzeW5jIGZpbmRCeUNvdXJzZU5hbWUoY291cnNlTmFtZSkge1xuXHRcdHJldHVybiBhd2FpdCBDb3Vyc2UuZmluZCh7IGNvdXJzZU5hbWUgfSlcblx0fVxuXG5cdC8qKlxuXHQgKiDliJvlu7ror77nqItcblx0ICogQHBhcmFtIGNvdXJzZU5hbWVcblx0ICogQHBhcmFtIG9wZXJhdG9ySWRcblx0ICovXG5cdGFzeW5jIGNyZWF0ZUNvdXJzZShjb3Vyc2VOYW1lLCBsZXZlbCwgbGV2ZWxPbmVJZCwgbGV2ZWxUd29JZCwgb3BlcmF0b3JJZCkge1xuXHRcdHJldHVybiBhd2FpdCBDb3Vyc2UuY3JlYXRlKHtcblx0XHRcdGNvdXJzZU5hbWUsXG5cdFx0XHRsZXZlbCxcblx0XHRcdGxldmVsT25lSWQsXG5cdFx0XHRsZXZlbFR3b0lkLFxuXHRcdFx0b3BlcmF0b3I6IG9wZXJhdG9ySWQsXG5cdFx0fSlcblx0fVxufVxuIiwiaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gJy4vVXNlclNlcnZpY2UnXG5pbXBvcnQgQ291cnNlU2VydmljZSBmcm9tICcuL0NvdXJzZVNlcnZpY2UnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgdXNlclNlcnZpY2U6IG5ldyBVc2VyU2VydmljZSgpLFxuICBjb3Vyc2VTZXJ2aWNlOiBuZXcgQ291cnNlU2VydmljZSgpLFxufSIsImltcG9ydCBSZXNwb25zZSBmcm9tICcuLi9saWIvUmVzcG9uc2UnXG5pbXBvcnQgdmFsaWRhdG9yRm9ybSBmcm9tICcuLi91dGlscy92YWxpZGF0b3JGb3JtJ1xuaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi4vc2VydmljZS9pbmRleCdcbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscydcblxuY29uc3QgQ291cnNlQ29udHJvbGxlciA9IHtcblx0LyoqXG5cdCAqIEBzdW1tYXJ5IOa3u+WKoOS4gOe6p+enkeebrlxuXHQgKi9cblx0YXN5bmMgY3JlYXRlQ291cnNlKGN0eCkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGN0eClcblxuXHRcdGxldCB7IGNvdXJzZU5hbWUsIGxldmVsLCBsZXZlbE9uZUlkLCBsZXZlbFR3b0lkIH0gPSBjdHgucmVxdWVzdC5ib2R5XG5cblx0XHRsZXQgcnVsZXMgPSBbeyB2YWx1ZTogY291cnNlTmFtZSwgZXJyb3JNc2c6ICfor77nqIvlkI3kuI3og73kuLrnqbonLCBydWxlOiAnZW1wdHknIH1dXG5cblx0XHRsZXZlbCA9IE51bWJlcihsZXZlbClcblxuXHRcdGlmIChsZXZlbCA9PT0gMikge1xuXHRcdFx0cnVsZXMgPSBydWxlcy5jb25jYXQoW3sgdmFsdWU6IGxldmVsT25lSWQsIGVycm9yTXNnOiAn5LiA57qn6K++56iLaWTkuI3og73kuLrnqbonLCBydWxlOiAnZW1wdHknIH1dKVxuXHRcdH0gZWxzZSBpZiAobGV2ZWwgPT09IDMpIHtcblx0XHRcdHJ1bGVzID0gcnVsZXMuY29uY2F0KFtcblx0XHRcdFx0eyB2YWx1ZTogbGV2ZWxPbmVJZCwgZXJyb3JNc2c6ICfkuIDnuqfor77nqItpZOS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfSxcblx0XHRcdFx0eyB2YWx1ZTogbGV2ZWxUd29JZCwgZXJyb3JNc2c6ICfkuoznuqfor77nqItpZOS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfSxcblx0XHRcdF0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bGVzID0gW3sgdmFsdWU6IGxldmVsLCBlcnJvck1zZzogJ2xldmVs5LiN6IO95Li656m6JywgcnVsZTogJ2VtcHR5JyB9XVxuXHRcdH1cblxuXHRcdGNvbnN0IHZhbGlkYXRvciA9IHZhbGlkYXRvckZvcm0ocnVsZXMpXG5cblx0XHRpZiAoIXZhbGlkYXRvcikge1xuXHRcdFx0cmVzcG9uc2UuZmFpbENsaWVudCh2YWxpZGF0b3JGb3JtLmdldEVycm9yKCkpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRjb25zdCB1aWQgPSBhd2FpdCBVdGlscy5nZXRSZWRpc1VpZChjdHgpXG5cblx0XHRpZiAoIXVpZCkge1xuXHRcdFx0cmVzcG9uc2UuZmFpbENsaWVudCgn6K+35YWI55m75b2VJylcblx0XHR9XG5cblx0XHRjb25zdCBmaW5kQ291cnNlID0gYXdhaXQgc2VydmljZS5jb3Vyc2VTZXJ2aWNlLmZpbmRCeUNvdXJzZU5hbWUoY291cnNlTmFtZSlcblxuXHRcdGlmIChVdGlscy5pc0VtcHR5QXJyYXkoZmluZENvdXJzZSkpIHtcblx0XHRcdGF3YWl0IHNlcnZpY2UuY291cnNlU2VydmljZS5jcmVhdGVDb3Vyc2UoXG5cdFx0XHRcdGNvdXJzZU5hbWUsXG5cdFx0XHRcdGxldmVsLFxuXHRcdFx0XHRsZXZlbE9uZUlkLFxuXHRcdFx0XHRsZXZlbFR3b0lkLFxuXHRcdFx0XHR1aWRcblx0XHRcdClcblx0XHRcdHJlc3BvbnNlLnN1Y2Nlc3MoW10sICcnKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0cmVzcG9uc2UuZmFpbENsaWVudCgn6K++56iL5ZCN5bey5a2Y5ZyoJylcblx0fSxcblxuXHQvKipcblx0ICogQHN1bW1hcnkg5p+l6K+i5omA5pyJ6K++56iLXG5cdCAqL1xuXHRhc3luYyBmaW5kQWxsQ291cnNlKGN0eCwgbmV4dCwgYm9keSkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGN0eClcblxuXHRcdGxldCB7IGxldmVsIH0gPSBjdHgucmVxdWVzdC5xdWVyeVxuXG5cdFx0aWYgKCFsZXZlbCkge1xuXHRcdFx0bGV2ZWwgPSBib2R5LmxldmVsXG5cdFx0fVxuXG5cdFx0bGV2ZWwgPSBOdW1iZXIobGV2ZWwpXG5cblx0XHRjb25zdCBydWxlcyA9IFt7IHZhbHVlOiBsZXZlbCwgZXJyb3JNc2c6ICdsZXZlbOS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfV1cblxuXHRcdGNvbnN0IHZhbGlkYXRvciA9IHZhbGlkYXRvckZvcm0ocnVsZXMpXG5cblx0XHRpZiAoIXZhbGlkYXRvcikge1xuXHRcdFx0cmVzcG9uc2UuZmFpbENsaWVudCh2YWxpZGF0b3JGb3JtLmdldEVycm9yKCkpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRjb25zdCBmaW5kQ291cnNlID0gYXdhaXQgc2VydmljZS5jb3Vyc2VTZXJ2aWNlLmZpbmRBbGxDb3Vyc2UobGV2ZWwpXG5cblx0XHRyZXNwb25zZS5zdWNjZXNzKGZpbmRDb3Vyc2UsICcnKVxuXG5cdFx0cmV0dXJuIHJlc3BvbnNlLmdldFJlc3BvbnNlKClcblx0fSxcblxuXHQvKipcblx0ICogQHN1bW1hcnkgYXBwIOafpeivouaJgOacieivvueoi1xuXHQgKi9cblx0YXN5bmMgZmluZEFsbENvdXJzZUxpc3QoY3R4LCBuZXh0KSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoY3R4KVxuXG5cdFx0Y29uc3QgY291cnNlT25lID0gYXdhaXQgQ291cnNlQ29udHJvbGxlci5maW5kQWxsQ291cnNlKGN0eCwgbmV4dCwge1xuXHRcdFx0bGV2ZWw6IDEsXG5cdFx0fSlcblx0XHRjb25zdCBjb3Vyc2VUd28gPSBhd2FpdCBDb3Vyc2VDb250cm9sbGVyLmZpbmRBbGxDb3Vyc2UoY3R4LCBuZXh0LCB7XG5cdFx0XHRsZXZlbDogMixcblx0XHR9KVxuXHRcdGNvbnN0IGNvdXJzZVRocmVlID0gYXdhaXQgQ291cnNlQ29udHJvbGxlci5maW5kQWxsQ291cnNlKGN0eCwgbmV4dCwge1xuXHRcdFx0bGV2ZWw6IDMsXG4gICAgfSlcbiAgICBcbiAgICBjb25zdCB0d29GaW5hbCA9IFtdXG4gICAgY291cnNlVHdvLmZvckVhY2godiA9PiB7XG4gICAgICBjb25zdCBpdGVtID0ge1xuXHRcdFx0XHRjb3Vyc2VOYW1lOiB2LmNvdXJzZU5hbWUsXG5cdFx0XHRcdF9pZDogdi5faWQsXG5cdFx0XHRcdGxldmVsOiB2LmxldmVsLFxuXHRcdFx0XHRsZXZlbE9uZUlkOiB2LmxldmVsT25lSWQsXG5cdFx0XHRcdGNoaWxkcmVuOiBbXSxcblx0XHRcdH1cblx0XHRcdHR3b0ZpbmFsLnB1c2goaXRlbSlcbiAgICB9KVxuXG4gICAgdHdvRmluYWwuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdFx0Y291cnNlVGhyZWUuZm9yRWFjaCgodikgPT4ge1xuXHRcdFx0XHRpZiAoaXRlbS5faWQudG9TdHJpbmcoKSA9PT0gdi5sZXZlbFR3b0lkLnRvU3RyaW5nKCkpIHtcblx0XHRcdFx0XHRjb25zdCBsZXZlbFR3byA9IHtcblx0XHRcdFx0XHRcdGNvdXJzZU5hbWU6IHYuY291cnNlTmFtZSxcblx0XHRcdFx0XHRcdF9pZDogdi5faWQsXG5cdFx0XHRcdFx0XHRsZXZlbDogdi5sZXZlbCxcblx0XHRcdFx0XHRcdGxldmVsT25lSWQ6IHYubGV2ZWxPbmVJZCxcblx0XHRcdFx0XHRcdGxldmVsVHdvSWQ6IHYubGV2ZWxUd29JZCxcblx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbS5jaGlsZHJlbi5wdXNoKGxldmVsVHdvKVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuICAgIH0pXG4gICAgXG5cblx0XHRjb25zdCByZXMgPSBbXVxuXG5cdFx0Y291cnNlT25lLmZvckVhY2goKHYpID0+IHtcblx0XHRcdGNvbnN0IGxldmVsT25lID0ge1xuXHRcdFx0XHRjb3Vyc2VOYW1lOiB2LmNvdXJzZU5hbWUsXG5cdFx0XHRcdF9pZDogdi5faWQsXG5cdFx0XHRcdGxldmVsOiB2LmxldmVsLFxuXHRcdFx0XHRjaGlsZHJlbjogW10sXG5cdFx0XHR9XG5cdFx0XHRyZXMucHVzaChsZXZlbE9uZSlcblx0XHR9KVxuXG5cdFx0cmVzLmZvckVhY2goKHJlc0l0ZW0pID0+IHtcblx0XHRcdHR3b0ZpbmFsLmZvckVhY2goKHR3bykgPT4ge1xuXHRcdFx0XHRpZiAocmVzSXRlbS5faWQudG9TdHJpbmcoKSA9PT0gdHdvLmxldmVsT25lSWQpIHtcbiAgICAgICAgICByZXNJdGVtLmNoaWxkcmVuLnB1c2godHdvKVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0pXG5cblx0XHRyZXNwb25zZS5zdWNjZXNzKHJlcywgJycpXG5cdH0sXG5cblx0LyoqXG5cdCAqIEBzdW1tYXJ5IOWIoOmZpOS4gOe6p+ivvueoi1xuXHQgKiBAcm91dGVyIGRlbGV0ZSAvY291cnNlL29uZVxuXHQgKiBAcmVxdWVzdCBxdWVyeSBzdHJpbmcgaWQg6K++56iLaWRcblx0ICogQHJlc3BvbnNlIDIwMCBjb3Vyc2VFbXB0eVJlc3BvbnNlXG5cdCAqL1xuXHRhc3luYyBkZWxldGVDb3Vyc2VCeUlkKGN0eCkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGN0eClcblxuXHRcdGNvbnN0IHsgaWQgfSA9IGN0eC5yZXF1ZXN0LnF1ZXJ5XG5cblx0XHRjb25zdCBydWxlcyA9IFt7IHZhbHVlOiBpZCwgZXJyb3JNc2c6ICdpZOS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfV1cblxuXHRcdGNvbnN0IHZhbGlkYXRvciA9IHZhbGlkYXRvckZvcm0ocnVsZXMpXG5cblx0XHRpZiAoIXZhbGlkYXRvcikge1xuXHRcdFx0cmVzcG9uc2UuZmFpbENsaWVudCh2YWxpZGF0b3JGb3JtLmdldEVycm9yKCkpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRjb25zdCBmaW5kQ291cnNlID0gYXdhaXQgc2VydmljZS5jb3Vyc2VTZXJ2aWNlLmRlbGV0ZUNvdXJzZUJ5SWQoaWQpXG5cblx0XHRpZiAoZmluZENvdXJzZS5uID09PSAxICYmIGZpbmRDb3Vyc2Uubk1vZGlmaWVkID09PSAxKSB7XG5cdFx0XHRyZXNwb25zZS5zdWNjZXNzKCcnLCAnJylcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzcG9uc2UuZmFpbCgn5Yig6Zmk5aSx6LSlJylcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIEBzdW1tYXJ5IOS/ruaUueivvueoi1xuXHQgKi9cblx0YXN5bmMgdXBkYXRlQ291cnNlQnlJZChjdHgpIHtcblx0XHRjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShjdHgpXG5cblx0XHRsZXQgeyBpZCwgY291cnNlTmFtZSwgbGV2ZWwsIGxldmVsT25lSWQsIGxldmVsVHdvSWQgfSA9IGN0eC5yZXF1ZXN0LmJvZHlcblxuXHRcdGxldCBydWxlcyA9IFtdXG5cblx0XHRsZXZlbCA9IE51bWJlcihsZXZlbClcblxuXHRcdGlmIChsZXZlbCA9PT0gMSkge1xuXHRcdFx0cnVsZXMgPSBbXG5cdFx0XHRcdHsgdmFsdWU6IGlkLCBlcnJvck1zZzogJ+ivvueoi0lE5LiN6IO95Li656m6JywgcnVsZTogJ2VtcHR5JyB9LFxuXHRcdFx0XHR7IHZhbHVlOiBjb3Vyc2VOYW1lLCBlcnJvck1zZzogJ+ivvueoi+WQjeS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfSxcblx0XHRcdF1cblx0XHR9IGVsc2UgaWYgKGxldmVsID09PSAyKSB7XG5cdFx0XHRydWxlcyA9IFtcblx0XHRcdFx0eyB2YWx1ZTogaWQsIGVycm9yTXNnOiAn6K++56iLSUTkuI3og73kuLrnqbonLCBydWxlOiAnZW1wdHknIH0sXG5cdFx0XHRcdHsgdmFsdWU6IGNvdXJzZU5hbWUsIGVycm9yTXNnOiAn6K++56iL5ZCN5LiN6IO95Li656m6JywgcnVsZTogJ2VtcHR5JyB9LFxuXHRcdFx0XHR7IHZhbHVlOiBsZXZlbE9uZUlkLCBlcnJvck1zZzogJ+S4gOe6p+ivvueoi2lk5LiN6IO95Li656m6JywgcnVsZTogJ2VtcHR5JyB9LFxuXHRcdFx0XVxuXHRcdH0gZWxzZSBpZiAobGV2ZWwgPT09IDMpIHtcblx0XHRcdHJ1bGVzID0gW1xuXHRcdFx0XHR7IHZhbHVlOiBpZCwgZXJyb3JNc2c6ICfor77nqItJROS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfSxcblx0XHRcdFx0eyB2YWx1ZTogY291cnNlTmFtZSwgZXJyb3JNc2c6ICfor77nqIvlkI3kuI3og73kuLrnqbonLCBydWxlOiAnZW1wdHknIH0sXG5cdFx0XHRcdHsgdmFsdWU6IGxldmVsT25lSWQsIGVycm9yTXNnOiAn5LiA57qn6K++56iLaWTkuI3og73kuLrnqbonLCBydWxlOiAnZW1wdHknIH0sXG5cdFx0XHRcdHsgdmFsdWU6IGxldmVsVHdvSWQsIGVycm9yTXNnOiAn5LqM57qn6K++56iLaWTkuI3og73kuLrnqbonLCBydWxlOiAnZW1wdHknIH0sXG5cdFx0XHRdXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bGVzID0gW3sgdmFsdWU6IGxldmVsLCBlcnJvck1zZzogJ2xldmVs5LiN6IO95Li656m6JywgcnVsZTogJ2VtcHR5JyB9XVxuXHRcdH1cblxuXHRcdGNvbnN0IHZhbGlkYXRvciA9IHZhbGlkYXRvckZvcm0ocnVsZXMpXG5cblx0XHRpZiAoIXZhbGlkYXRvcikge1xuXHRcdFx0cmVzcG9uc2UuZmFpbENsaWVudCh2YWxpZGF0b3JGb3JtLmdldEVycm9yKCkpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRjb25zdCBmaW5kQ291cnNlID0gYXdhaXQgc2VydmljZS5jb3Vyc2VTZXJ2aWNlLnVwZGF0ZUNvdXJzZUJ5SWQoXG5cdFx0XHRpZCxcblx0XHRcdGNvdXJzZU5hbWUsXG5cdFx0XHRsZXZlbE9uZUlkLFxuXHRcdFx0bGV2ZWxUd29JZFxuXHRcdClcblxuXHRcdGlmIChmaW5kQ291cnNlLm4gPT09IDEgJiYgZmluZENvdXJzZS5uTW9kaWZpZWQgPT09IDEpIHtcblx0XHRcdHJlc3BvbnNlLnN1Y2Nlc3MoJycsICcnKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXNwb25zZS5mYWlsKCfmm7TmlrDlpLHotKUnKVxuXHRcdH1cblx0fSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ291cnNlQ29udHJvbGxlclxuIiwiY2xhc3MgTW9uZ29Db2RlIHt9XG5cbk1vbmdvQ29kZS5VTklRVUUgPSAxMTAwMCAgLy8g5a2X5q615LiN6IO96YeN5aSNXG5cbmV4cG9ydCBkZWZhdWx0IE1vbmdvQ29kZVxuIiwiY29uc3QgU3RhdHVzQ29kZSA9IHtcbiAgLy8gMDogJ+WQr+WKqCcsXG4gIC8vIDE6ICflhbPpl60nXG59XG5leHBvcnQgZGVmYXVsdCBTdGF0dXNDb2RlXG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWwvdXNlcnMnXG5pbXBvcnQgUmVzcG9uc2VDb2RlIGZyb20gJy4uL3V0aWxzL1Jlc3BvbnNlQ29kZSdcbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscydcbmltcG9ydCBNb25nb0NvZGUgZnJvbSAnLi4vdXRpbHMvTW9uZ29Db2RlJ1xuaW1wb3J0IFN0YXR1c0NvZGUgZnJvbSAnLi4vdXRpbHMvU3RhdHVzQ29kZSdcblxuXG4vKipcbiAqIOafpeivouaAu+aVsOmHj1xuICogQHBhcmFtIGNvbmRpdGlvblxuICogQHJldHVybnMge1Byb21pc2U8dW5rbm93bj59XG4gKi9cbmNvbnN0IGdldENvdW50ID0gZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgVXNlcnMuY291bnREb2N1bWVudHMoY29uZGl0aW9uLCBmdW5jdGlvbiAoZXJyLCBjb3VudCkge1xuICAgICAgcmVzb2x2ZShjb3VudClcbiAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIOeZu+W9lVxuICogQHBhcmFtIHF1ZXJ5XG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29kZSwgbXNnLiBkYXRhfT59XG4gKi9cbmV4cG9ydCBjb25zdCBsb2dpbiA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgeyBfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcXVlcnlcbiAgICAgIFVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZSwgcGFzc3dvcmQgfSwgKGVyciwgdXNlcnMpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlc29sdmUoeyBjb2RlOiBSZXNwb25zZUNvZGUuU0VSVklDRV9FUlJPUiwgbXNnOiBlcnIgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXRpbHMuaXNFbXB0eU9iamVjdCh1c2VycykpIHtcbiAgICAgICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLkNMSUVOVF9FUlJPUiwgbXNnOiAn6LSm5Y+35oiW5a+G56CB5LiN5q2j56GuJyB9KVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmICh1c2Vycy5zdGF0ZSA9PT0gMSkge1xuICAgICAgICAgIHJlc29sdmUoeyBjb2RlOiBSZXNwb25zZUNvZGUuU1VDQ0VTUywgbXNnOiAn6K+l6LSm5Y+35bey6ZSB5a6aJyB9KVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgdWlkOiB1c2Vycy5faWQsXG4gICAgICAgICAgdG9rZW46IFV0aWxzLmdldFRva2VuKF9pZClcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLlNVQ0NFU1MsIGRhdGEgfSlcbiAgICAgIH0pXG4gICAgfVxuICApKVxufVxuXG4vKipcbiAqIOazqOWGjFxuICogQHBhcmFtIGluc2VydFxuICogQHJldHVybnMge1Byb21pc2U8e2NvZGUsIG1zZy4gZGF0YX0+fVxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXIgPSBmdW5jdGlvbiAoaW5zZXJ0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSA9PiB7XG4gICAgVXNlcnMuaW5zZXJ0TWFueShpbnNlcnQsIChlcnIsIHVzZXJzKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIuY29kZSA9PT0gTW9uZ29Db2RlLlVOSVFVRSkge1xuICAgICAgICAgIHJlc29sdmUoeyBjb2RlOiBSZXNwb25zZUNvZGUuQ0xJRU5UX0VSUk9SLCBtc2c6ICfnlKjmiLflkI3lt7LlrZjlnKgnIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSh7IGNvZGU6IFJlc3BvbnNlQ29kZS5TRVJWSUNFX0VSUk9SLCBtc2c6IGVyciB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLlNVQ0NFU1MsIG1zZzogJ+azqOWGjOaIkOWKnycsIGRhdGE6IFtdIH0pXG4gICAgfSlcbiAgfSkpXG59XG5cbi8qKlxuICog5p+l6K+i6LSm5Y+35piv5ZCm5a2Y5ZyoXG4gKiBAcGFyYW0gdXNlcm5hbWVcbiAqIEByZXR1cm5zIHtQcm9taXNlPHtjb2RlLCBtc2cuIGRhdGF9Pn1cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1VzZXJuYW1lID0gZnVuY3Rpb24gKHVzZXJuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSA9PiB7XG4gICAgVXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lIH0sIChlcnIsIHVzZXJzKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlc29sdmUoZmFsc2UpXG4gICAgICB9XG4gICAgICBpZiAoVXRpbHMuaXNFbXB0eU9iamVjdCh1c2VycykpIHtcbiAgICAgICAgcmVzb2x2ZShmYWxzZSlcbiAgICAgIH1cbiAgICAgIHJlc29sdmUodHJ1ZSlcbiAgICB9KVxuICB9KSlcbn1cblxuLyoqXG4gKlxuICog5p+l6K+i5piv5ZCm5pyJ6YKu566xXG4gKiBAcGFyYW0gZW1haWxcbiAqIEByZXR1cm5zIHtQcm9taXNlPHtjb2RlLCBtc2cuIGRhdGF9Pn1cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1VzZXJFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUgPT4ge1xuICAgIFVzZXJzLmZpbmRPbmUoeyBlbWFpbCB9LCAoZXJyLCB1c2VycykgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXNvbHZlKGZhbHNlKVxuICAgICAgfVxuICAgICAgaWYgKFV0aWxzLmlzRW1wdHlPYmplY3QodXNlcnMpKSB7XG4gICAgICAgIHJlc29sdmUoZmFsc2UpXG4gICAgICB9XG4gICAgICByZXNvbHZlKHRydWUpXG4gICAgfSlcbiAgfSkpXG59XG5cbi8qKlxuICog6I635Y+W6ICD55Sf5L+h5oGvXG4gKiBAcGFyYW0gdWlkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx1bmtub3duPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVzZXJJbmZvID0gZnVuY3Rpb24gKHVpZCkge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgVXNlcnMuZmluZEJ5SWQodWlkLCB7IF9fdjogMCwgaXNEZWxldGU6IDAsIHBhc3N3b3JkOiAwIH0sKGVyciwgdXNlcikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLlNFUlZJQ0VfRVJST1IsIG1zZzogZXJyIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgcmVzb2x2ZSh7IGNvZGU6IFJlc3BvbnNlQ29kZS5TVUNDRVNTLCBkYXRhOiB7IHVzZXIgfSB9KVxuICAgIH0pXG4gIH0pXG59XG5cbi8qKlxuICog6I635Y+W5omA5pyJ6ICD55Sf5L+h5oGvXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx1bmtub3duPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVzZXJJbmZvcyA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgY291bnQgPSBhd2FpdCBnZXRDb3VudChxdWVyeS5jb25kaXRpb24pXG4gICAgVXNlcnMuZmluZChxdWVyeS5jb25kaXRpb24sIHsgaXNEZWxldGU6IDAsIF9fdjogMCwgcGFzc3dvcmQ6IDAgfSlcbiAgICAgIC5saW1pdChwYXJzZUludChxdWVyeS5wYWdlLmxpbWl0KSlcbiAgICAgIC5za2lwKChwYXJzZUludChxdWVyeS5wYWdlLnBhZ2UpIC0gMSkgKiBwYXJzZUludChxdWVyeS5wYWdlLmxpbWl0KSlcbiAgICAgIC5zb3J0KHsgX2lkOiAtMSB9KVxuICAgICAgLmV4ZWMoKGVyciwgdXNlcnMpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlc29sdmUoeyBjb2RlOiBSZXNwb25zZUNvZGUuU0VSVklDRV9FUlJPUiwgbXNnOiBlcnIgfSlcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICBjb2RlOiBSZXNwb25zZUNvZGUuU1VDQ0VTUywgZGF0YToge1xuICAgICAgICAgICAgbGlzdDogdXNlcnMsXG4gICAgICAgICAgICB0b3RhbDogY291bnRcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIOmAmui/h+eUqOaIt+WQjeiOt+WPlueuoeeQhuWRmOS/oeaBr1xuICogQHJldHVybnMge1Byb21pc2U8dW5rbm93bj59XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRVc2VySW5mb0J5VXNlcm5hbWUgPSBmdW5jdGlvbiAodXNlcm5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIFVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZSB9LCB7IF9pZDogMX0sIChlcnIsIGFkbWlucykgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLlNFUlZJQ0VfRVJST1IsIG1zZzogZXJyIH0pXG4gICAgICB9XG4gICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLlNVQ0NFU1MsIGRhdGE6IGFkbWlucyB9KVxuICAgIH0pXG4gIH0pXG59XG5cblxuLyoqXG4gKiDlkK/liqjmiJblhbPpl63otKblj7dcbiAqIEBwYXJhbSBxdWVyeVxuICogQHJldHVybnMge1Byb21pc2U8dW5rbm93bj59XG4gKi9cbmV4cG9ydCBjb25zdCBvcGVuT3JDbG9zZVVzZXIgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlID0+IHtcbiAgICAgIFVzZXJzLnVwZGF0ZU9uZSh7IF9pZDogcXVlcnkuX2lkIH0sIHsgJHNldDogeyBzdGF0ZTogcXVlcnkuc3RhdGUgfSB9LCAoZXJyLCB1c2VycykgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzb2x2ZSh7IGNvZGU6IFJlc3BvbnNlQ29kZS5TRVJWSUNFX0VSUk9SLCBtc2c6IGVyciB9KVxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoeyBjb2RlOiBSZXNwb25zZUNvZGUuU1VDQ0VTUywgbXNnOiBTdGF0dXNDb2RlW3F1ZXJ5LnN0YXRlXSArICfmiJDlip8nLCBkYXRhOiBbXSB9KVxuICAgICAgfSlcbiAgICB9XG4gICkpXG59XG5cbi8qKlxuICog5pu05paw55So5oi3XG4gKiBAcGFyYW0gYm9keVxuICogQHJldHVybnMge1Byb21pc2U8dW5rbm93bj59XG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlID0+IHtcbiAgICAgIFVzZXJzLnVwZGF0ZU9uZShib2R5LnF1ZXJ5LCB7ICRzZXQ6IGJvZHkudXBkYXRlIH0sIChlcnIsIHVzZXJzKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLlNFUlZJQ0VfRVJST1IsIG1zZzogZXJyIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJzLm5Nb2RpZmllZCA9PT0gMSkge1xuICAgICAgICAgIHJlc29sdmUoeyBjb2RlOiBSZXNwb25zZUNvZGUuU1VDQ0VTUywgbXNnOiAn5pu05paw5oiQ5YqfJywgZGF0YTogW10gfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHsgY29kZTogUmVzcG9uc2VDb2RlLlNFUlZJQ0VfRVJST1IsIG1zZzogJ+abtOaWsOWksei0pScsIGRhdGE6IFtdIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICApKVxufVxuIiwiLy8gaW1wb3J0IHNlbmQgZnJvbSAnLi8uLi9jb25maWcvTWFpbENvbmZpZydcbi8vIGltcG9ydCBtb21lbnQgZnJvbSAnQC9jb250cm9sbGVyL21vbWVudCdcbmltcG9ydCBSZXNwb25zZSBmcm9tICcuLi9saWIvUmVzcG9uc2UnXG5pbXBvcnQgdmFsaWRhdG9yRm9ybSBmcm9tICcuLi91dGlscy92YWxpZGF0b3JGb3JtJ1xuaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi4vc2VydmljZS9pbmRleCdcbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscydcbmltcG9ydCB7c2V0VmFsdWUsIGRlbFZhbHVlLCBnZXRWYWx1ZX0gZnJvbSAnLi4vY29uZmlnL21vZHVsZXMvUmVkaXNDb25maWcnXG5pbXBvcnQge1xuICBnZXRVc2VySW5mbyxcbiAgaGFzVXNlckVtYWlsLFxuICBoYXNVc2VybmFtZSxcbiAgbG9naW4sXG4gIHJlZ2lzdGVyLFxuICBnZXRVc2VySW5mb3MsXG4gIG9wZW5PckNsb3NlVXNlcixcbiAgdXBkYXRlVXNlclxufSBmcm9tICcuLi9zZXJ2aWNlL1VzZXJEQidcblxuY29uc3QgVXNlckNvbnRyb2xsZXIgPSB7XG4gIC8qKlxuICAgKiDnmbvlvZVcbiAgICogQHBhcmFtIGN0eFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIGxvZ2luIChjdHgpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShjdHgpXG4gICAgXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IGN0eC5yZXF1ZXN0LmJvZHlcbiAgICBcbiAgICBjb25zdCBydWxlcyA9IFtcbiAgICAgIHsgdmFsdWU6IHVzZXJuYW1lLCBlcnJvck1zZzogJ+eUqOaIt+WQjeS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfSxcbiAgICAgIHsgdmFsdWU6IHBhc3N3b3JkLCBlcnJvck1zZzogJ+WvhueggeS4jeiDveS4uuepuicsIHJ1bGU6ICdlbXB0eScgfSxcbiAgICBdXG4gICAgXG4gICAgY29uc3QgdmFsaWRhdG9yID0gdmFsaWRhdG9yRm9ybShydWxlcylcbiAgICBcbiAgICBpZiAoIXZhbGlkYXRvcikge1xuICAgICAgcmVzcG9uc2UuZmFpbENsaWVudCh2YWxpZGF0b3JGb3JtLmdldEVycm9yKCkpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHNlcnZpY2UudXNlclNlcnZpY2UuZmluZFVzZXJCeVVzZXJuYW1lQW5kUGFzc3dvcmQodXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgIFxuICAgIGlmIChVdGlscy5pc0VtcHR5QXJyYXkodXNlcikpIHtcbiAgICAgIHJlc3BvbnNlLmZhaWxDbGllbnQoJ+eUqOaIt+WQjeaIluWvhueggeS4jeato+ehricpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgdG9rZW46IFV0aWxzLmdldFRva2VuKHVzZXJbMF0uX2lkKVxuICAgIH1cblxuICAgIHNldFZhbHVlKFV0aWxzLmVuY3J5cHRpb24oZGF0YS50b2tlbiksIHVzZXJbMF0uX2lkLnRvU3RyaW5nKCkpXG5cbiAgICByZXNwb25zZS5zdWNjZXNzKGRhdGEpXG4gIH0sXG4gIFxuICAvKipcbiAgICog5rOo5YaMXG4gICAqIEBwYXJhbSBjdHhcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyByZWdpc3RlciAoY3R4KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoY3R4KVxuXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IGN0eC5yZXF1ZXN0LmJvZHlcblxuICAgIGNvbnN0IHJ1bGVzID0gW1xuICAgICAgeyB2YWx1ZTogdXNlcm5hbWUsIGVycm9yTXNnOiAn55So5oi35ZCN5LiN6IO95Li656m6JywgcnVsZTogJ2VtcHR5JyB9LFxuICAgICAgeyB2YWx1ZTogcGFzc3dvcmQsIGVycm9yTXNnOiAn5a+G56CB5LiN6IO95Li656m6JywgcnVsZTogJ2VtcHR5JyB9LFxuICAgIF1cbiAgICBcbiAgICBjb25zdCB2YWxpZGF0b3IgPSB2YWxpZGF0b3JGb3JtKHJ1bGVzKVxuICAgIFxuICAgIGlmICghdmFsaWRhdG9yKSB7XG4gICAgICByZXNwb25zZS5mYWlsQ2xpZW50KHZhbGlkYXRvckZvcm0uZ2V0RXJyb3IoKSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGZpbmRVc2VycyA9IGF3YWl0IHNlcnZpY2UudXNlclNlcnZpY2UuZmluZEJ5VXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgaWYgKFV0aWxzLmlzRW1wdHlBcnJheShmaW5kVXNlcnMpKSB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLnVzZXJTZXJ2aWNlLmNyZWF0ZVVzZXIodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICAgIHJlc3BvbnNlLnN1Y2Nlc3MoW10sICfms6jlhozmiJDlip8nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXNwb25zZS5mYWlsQ2xpZW50KCfnlKjmiLflkI3lt7LlrZjlnKgnKTtcbiAgfSxcblxuICAvKipcbiAgICog6YCa6L+HVUlE5p+l6K+i55So5oi35L+h5oGvXG4gICAqIEBwYXJhbSB7Kn0gY3R4IFxuICAgKi9cbiAgYXN5bmMgZmluZFVzZXJJbmZvQnlVSUQoY3R4KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoY3R4KTtcblxuICAgIGNvbnN0IHRva2VuID0gY3R4LnJlcXVlc3QuaGVhZGVyLmF1dGhvcml6YXRpb24uc3BsaXQoJ0JlYXJlciAnKVsxXTtcblxuICAgIGNvbnN0IGVuY3J5cHRpb25Ub2tlbiA9IFV0aWxzLmVuY3J5cHRpb24odG9rZW4pO1xuXG4gICAgY29uc3QgaWQgPSBhd2FpdCBnZXRWYWx1ZShlbmNyeXB0aW9uVG9rZW4pO1xuXG4gICAgaWYgKGlkKSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgc2VydmljZS51c2VyU2VydmljZS5maW5kVXNlckJ5SWQoaWQpO1xuICAgICAgcmVzcG9uc2Uuc3VjY2Vzcyh1c2VyLCAnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlLmZhaWxDbGllbnQoJ+aXoCB1aWQnKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIOmAgOWHuueZu+W9lVxuICAgKiBAcGFyYW0geyp9IGN0eCBcbiAgICovXG4gIGFzeW5jIGxvZ291dChjdHgpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShjdHgpXG5cbiAgICBjb25zdCB0b2tlbiA9IGN0eC5yZXF1ZXN0LmhlYWRlci5hdXRob3JpemF0aW9uLnNwbGl0KCdCZWFyZXIgJylbMV07XG5cbiAgICBjb25zdCBlbmNyeXB0aW9uVG9rZW4gPSBVdGlscy5lbmNyeXB0aW9uKHRva2VuKTtcblxuICAgIGF3YWl0IGRlbFZhbHVlKGVuY3J5cHRpb25Ub2tlbik7XG5cbiAgICByZXNwb25zZS5zdWNjZXNzKFtdLCAn6YCA5Ye655m75b2V5oiQ5YqfJyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckNvbnRyb2xsZXJcbiIsImltcG9ydCBDb3Vyc2VDb250cm9sbGVyIGZyb20gJy4vQ291cnNlQ29udHJvbGxlcidcbmltcG9ydCBVc2VyQ29udHJvbGxlciBmcm9tICcuL1VzZXJDb250cm9sbGVyJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIENvdXJzZUNvbnRyb2xsZXIsXG4gIFVzZXJDb250cm9sbGVyLFxufSIsImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCBjb250cm9sbGVyIGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvaW5kZXgnXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIucHJlZml4KCcvdXNlcicpXG5cbi8vIOeZu+W9lVxucm91dGVyLnBvc3QoJy9sb2dpbicsIGNvbnRyb2xsZXIuVXNlckNvbnRyb2xsZXIubG9naW4pXG5cbi8vIOazqOWGjFxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGNvbnRyb2xsZXIuVXNlckNvbnRyb2xsZXIucmVnaXN0ZXIpXG5cbi8vIOiOt+WPluafkOeUqOaIt+S/oeaBr1xucm91dGVyLmdldCgnLycsIGNvbnRyb2xsZXIuVXNlckNvbnRyb2xsZXIuZmluZFVzZXJJbmZvQnlVSUQpXG5cbi8vIOmAgOWHuueZu+W9lVxucm91dGVyLnBhdGNoKCcvbG9nb3V0JywgY29udHJvbGxlci5Vc2VyQ29udHJvbGxlci5sb2dvdXQpXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iLCJpbXBvcnQgUmVzcG9uc2UgZnJvbSAnLi4vdXRpbHMvUmVzcG9uc2UnXG5pbXBvcnQgUmVzcG9uc2VDb2RlIGZyb20gJy4uL3V0aWxzL1Jlc3BvbnNlQ29kZSdcbmltcG9ydCB7IEFCU09MVVRFX0FWQVRBUl9QQVRILCBBQlNPTFVURV9JTUdfTE9DQUxfUEFUSCB9IGZyb20gJy4uL2NvbmZpZydcbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscydcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5cbmNsYXNzIFVwbG9hZENvbnRyb2xsZXIge1xuICBhc3luYyBzYXZlIChjdHgpIHtcbiAgICAvLyDkuIrkvKDljZXkuKrmlofku7ZcbiAgICBjb25zdCB7IGZpbGUgfSA9IGN0eC5yZXF1ZXN0LmZpbGVzXG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoY3R4KVxuICAgIFV0aWxzLnNhdmVGaWxlKGZpbGUsIGAvVXNlcnMvZ2VvcmdlbGVlby9Eb2N1bWVudHMvZmlsZS9HcmFkdWF0aW9uIFByb2plY3QvRXhhbU1hbmFnZW1lbnQvRXhhbU1hbmFnZW1lbnQvbWVkaWEvaW1nLyR7ZmlsZS5uYW1lfWApXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICByZXNwb25zZS5zZW5kKFJlc3BvbnNlQ29kZS5TVUNDRVNTLCAn5LiK5Lyg5oiQ5YqfJywgcmVzKVxuICAgICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICByZXNwb25zZS5zZW5kKFJlc3BvbnNlQ29kZS5TRVJWSUNFX0VSUk9SLCAn5LiK5Lyg5aSx6LSlJywgZSlcbiAgICB9KVxuICB9XG59XG5cbmNvbnN0IHVwbG9hZENvbnRyb2xsZXIgPSBuZXcgVXBsb2FkQ29udHJvbGxlcigpXG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZENvbnRyb2xsZXJcbiIsImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCB1cGxvYWRDb250cm9sbGVyIGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvVXBsb2FkQ29udHJvbGxlcidcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5cbi8vIOafpeivouaWh+S7tuWcsOWdgFxuLy8gcm91dGVyLmdldCgnL3VwbG9hZCcsIHVwbG9hZENvbnRyb2xsZXIuZ2V0Tm90aWNlKVxuXG4vLyDliJvlu7rmlofku7blnLDlnYBcbnJvdXRlci5wb3N0KCcvdXBsb2FkLWltZycsIHVwbG9hZENvbnRyb2xsZXIuc2F2ZSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iLCJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXG5pbXBvcnQgY29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVyL2luZGV4J1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcblxucm91dGVyLnByZWZpeCgnL2NvdXJzZScpXG5cbnJvdXRlci5nZXQoJy8nLCBjb250cm9sbGVyLkNvdXJzZUNvbnRyb2xsZXIuZmluZEFsbENvdXJzZSlcblxucm91dGVyLmdldCgnL2xpc3QnLCBjb250cm9sbGVyLkNvdXJzZUNvbnRyb2xsZXIuZmluZEFsbENvdXJzZUxpc3QpXG5cbnJvdXRlci5wb3N0KCcvJywgY29udHJvbGxlci5Db3Vyc2VDb250cm9sbGVyLmNyZWF0ZUNvdXJzZSlcblxucm91dGVyLnBhdGNoKCcvJywgY29udHJvbGxlci5Db3Vyc2VDb250cm9sbGVyLnVwZGF0ZUNvdXJzZUJ5SWQpXG5cbnJvdXRlci5kZWxldGUoJy8nLCBjb250cm9sbGVyLkNvdXJzZUNvbnRyb2xsZXIuZGVsZXRlQ291cnNlQnlJZClcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIiwiaW1wb3J0IGNvbWJpbmVSb3V0ZXMgZnJvbSAna29hLWNvbWJpbmUtcm91dGVycydcblxuaW1wb3J0IHB1YmxpY1JvdXRlciBmcm9tICcuL21vZHVsZXMvcHVibGljUm91dGVyJ1xuaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSAnLi9tb2R1bGVzL3VzZXJSb3V0ZXInXG5pbXBvcnQgdXBsb2FkUm91dGVyIGZyb20gJy4vbW9kdWxlcy91cGxvYWRSb3V0ZXInXG5pbXBvcnQgY291cnNlUm91dGVyIGZyb20gJy4vbW9kdWxlcy9jb3Vyc2VSb3V0ZXInXG5cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSb3V0ZXMoXG5cdHB1YmxpY1JvdXRlcixcblx0dXNlclJvdXRlcixcbiAgdXBsb2FkUm91dGVyLFxuICBjb3Vyc2VSb3V0ZXJcbilcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(12);\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(14);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(15);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(16);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(17);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(18);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(23);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(2);\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(21);\n/* harmony import */ var _common_TokenVerifyHandle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(22);\n\n\n\n\n\n\n// 安全插件\n\n// 静态资源插件\n\n\n\n\n\n\n\n\n\nconst PORT = 7001\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_1___default.a()\n\nconst isDevMode = \'production\' !== \'production\'\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_9___default()({ secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"].JWT_SECRET }).unless({\n\tpath: _config_index__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"].UN_AUTHENTICATION_API,\n})\n\n// koa-compose 集成中间件\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_2___default()([\n\tkoa_body__WEBPACK_IMPORTED_MODULE_3___default()({\n\t\tmultipart: true,\n\t\tformidable: {\n\t\t\tkeepExtensions: true,\n\t\t\tmaxFileSize: 200 * 1024 * 1024, // 设置上传文件大小最大限制，默认2M\n\t\t},\n\t}),\n\tkoa_static__WEBPACK_IMPORTED_MODULE_7___default()(path__WEBPACK_IMPORTED_MODULE_0___default.a.join(__dirname, \'../public\')),\n\t_koa_cors__WEBPACK_IMPORTED_MODULE_5___default()(),\n\tkoa_json__WEBPACK_IMPORTED_MODULE_4___default()({ pretty: false, param: \'pretty\' }),\n\tkoa_helmet__WEBPACK_IMPORTED_MODULE_6___default()(),\n\t_common_TokenVerifyHandle_js__WEBPACK_IMPORTED_MODULE_13__[/* default */ "a"],\n\tjwt,\n\t_common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[/* default */ "a"],\n\tObject(_routes__WEBPACK_IMPORTED_MODULE_10__[/* default */ "a"])(),\n])\n\nif (isDevMode) {\n\tapp.use(koa_compress__WEBPACK_IMPORTED_MODULE_8___default()())\n}\n\napp.use(middleware)\n\napp.listen(PORT)\n\n/* WEBPACK VAR INJECTION */}.call(this, "src"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1QjtBQUNGO0FBQ1k7QUFDSDtBQUNIO0FBQ0M7QUFDNUI7QUFDK0I7QUFDL0I7QUFDZ0M7QUFDRztBQUNWOztBQUVJO0FBQ007QUFDVztBQUNlOztBQUU3RDs7QUFFQSxnQkFBZ0IsMENBQUc7O0FBRW5CLGtCQUFrQixZQUFvQjs7QUFFdEMsWUFBWSw4Q0FBRyxFQUFFLFNBQVMsOERBQU0sYUFBYTtBQUM3QyxPQUFPLDhEQUFNO0FBQ2IsQ0FBQzs7QUFFRDtBQUNBLG1CQUFtQixrREFBTztBQUMxQixDQUFDLCtDQUFPO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGLENBQUMsaURBQU8sQ0FBQywyQ0FBSTtBQUNiLENBQUMsZ0RBQUk7QUFDTCxDQUFDLCtDQUFJLEVBQUUsaUNBQWlDO0FBQ3hDLENBQUMsaURBQU07QUFDUCxDQUFDLDZFQUFpQjtBQUNsQjtBQUNBLENBQUMsb0VBQVc7QUFDWixDQUFDLGdFQUFNO0FBQ1A7O0FBRUE7QUFDQSxTQUFTLG1EQUFRO0FBQ2pCOztBQUVBOztBQUVBIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBLb2EgZnJvbSAna29hJ1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAna29hLWNvbXBvc2UnXG5pbXBvcnQga29hQm9keSBmcm9tICdrb2EtYm9keSdcbmltcG9ydCBqc29uIGZyb20gJ2tvYS1qc29uJ1xuaW1wb3J0IGNvcnMgZnJvbSAnQGtvYS9jb3JzJ1xuLy8g5a6J5YWo5o+S5Lu2XG5pbXBvcnQgaGVsbWV0IGZyb20gJ2tvYS1oZWxtZXQnXG4vLyDpnZnmgIHotYTmupDmj5Lku7ZcbmltcG9ydCBzdGF0aWNzIGZyb20gJ2tvYS1zdGF0aWMnXG5pbXBvcnQgY29tcHJlc3MgZnJvbSAna29hLWNvbXByZXNzJ1xuaW1wb3J0IEpXVCBmcm9tICdrb2Etand0J1xuXG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy9pbmRleCdcbmltcG9ydCBlcnJvckhhbmRsZSBmcm9tICcuL2NvbW1vbi9FcnJvckhhbmRsZSdcbmltcG9ydCBUb2tlblZlcmlmeUhhbmRsZSBmcm9tICcuL2NvbW1vbi9Ub2tlblZlcmlmeUhhbmRsZS5qcydcblxuY29uc3QgUE9SVCA9IDcwMDFcblxuY29uc3QgYXBwID0gbmV3IEtvYSgpXG5cbmNvbnN0IGlzRGV2TW9kZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcblxuY29uc3Qgand0ID0gSldUKHsgc2VjcmV0OiBjb25maWcuSldUX1NFQ1JFVCB9KS51bmxlc3Moe1xuXHRwYXRoOiBjb25maWcuVU5fQVVUSEVOVElDQVRJT05fQVBJLFxufSlcblxuLy8ga29hLWNvbXBvc2Ug6ZuG5oiQ5Lit6Ze05Lu2XG5jb25zdCBtaWRkbGV3YXJlID0gY29tcG9zZShbXG5cdGtvYUJvZHkoe1xuXHRcdG11bHRpcGFydDogdHJ1ZSxcblx0XHRmb3JtaWRhYmxlOiB7XG5cdFx0XHRrZWVwRXh0ZW5zaW9uczogdHJ1ZSxcblx0XHRcdG1heEZpbGVTaXplOiAyMDAgKiAxMDI0ICogMTAyNCwgLy8g6K6+572u5LiK5Lyg5paH5Lu25aSn5bCP5pyA5aSn6ZmQ5Yi277yM6buY6K6kMk1cblx0XHR9LFxuXHR9KSxcblx0c3RhdGljcyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vcHVibGljJykpLFxuXHRjb3JzKCksXG5cdGpzb24oeyBwcmV0dHk6IGZhbHNlLCBwYXJhbTogJ3ByZXR0eScgfSksXG5cdGhlbG1ldCgpLFxuXHRUb2tlblZlcmlmeUhhbmRsZSxcblx0and0LFxuXHRlcnJvckhhbmRsZSxcblx0cm91dGVyKCksXG5dKVxuXG5pZiAoaXNEZXZNb2RlKSB7XG5cdGFwcC51c2UoY29tcHJlc3MoKSlcbn1cblxuYXBwLnVzZShtaWRkbGV3YXJlKVxuXG5hcHAubGlzdGVuKFBPUlQpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n')},function(module,exports){eval('module.exports = require("js-md5");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqcy1tZDVcIj8wOGNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianMtbWQ1XCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n')}]);